define("taoSync/controller/routes",[],function(){"use strict";return{Synchronizer:{actions:{index:"taoSync/controller/synchronizer/index"}},SynchronizationHistory:{actions:{index:"taoSync/controller/SynchronizationHistory/index"}}}}),define("core/format",["lodash"],function(_){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_;var pattern=/(%[sdj])/g;return function(message){var replacements=Array.prototype.slice.call(arguments,1);return _.reduce(message.match(pattern),function(acc,match,index){var replacement="";if(void 0!==replacements[index]){switch(match){case"%d":replacement=Number(replacements[index]);break;case"%j":try{
replacement=JSON.stringify(replacements[index]).replace(/"/g,"")}catch(e){}break;default:replacement=replacements[index]}message=message.replace(match,replacement)}return message},message)}}),define("core/promise",[],function(){"use strict";return Promise}),define("core/moduleLoader",["require","lodash","core/promise"],function(require,_,Promise){"use strict";function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(
arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}return _=_&&_.hasOwnProperty("default")?_.default:_,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,function(requiredModules,validate,specs){var loaded={},modules={},excludes=[],bundles=[],loader={addList:function(moduleList){return _.forEach(moduleList,this.add,this),this},add:function(def){if(!_.isPlainObject(def))throw new TypeError("The module definition module must be an object");if(_.isEmpty(def.module)||!_.isString(def.module))throw new TypeError("An AMD module must be defined");if(!_.isEmpty(def.category)&&_.isString(def.category)
)return modules[def.category]=modules[def.category]||[],_.isNumber(def.position)?modules[def.category][def.position]=def.module:"prepend"===def.position||"before"===def.position?modules[def.category].unshift(def.module):modules[def.category].push(def.module),def.bundle&&!_.contains(bundles,def.bundle)&&bundles.push(def.bundle),this;var identifyProvider=def.id||def.name||def.module;throw new TypeError("The provider '".concat(identifyProvider,"' must belong to a category"))},append:function(def){return this.add(_.merge({position:"append"},def))},prepend:function(def){return this.add(_.merge({position:"prepend"},def))},remove:function(module){
return excludes.push(module),this},load:function(loadBundles){function loadModules(){var amdModules=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return _.isArray(amdModules)&&amdModules.length?"function"==typeof define&&define.amd?new Promise(function(resolve,reject){window.require(amdModules,function(){for(var _len=arguments.length,loadedModules=new Array(_len),_key=0;_key<_len;_key++)loadedModules[_key]=arguments[_key];return resolve(loadedModules)},function(err){reject(err)})}):Promise.all(amdModules.map(function(module){return new Promise(function(resolve,reject){require(["".concat(module)],function(m){resolve(function(e){if(e&&e.__esModule
)return e;var n={};return e&&Object.keys(e).forEach(function(k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}),n.default=e,n}(m))},reject)})})).then(function(loadedModules){return Promise.resolve.apply(Promise,_toConsumableArray(loadModules))}):Promise.resolve()}var self=this,dependencies=_(modules).values().flatten().uniq().difference(excludes).value();return loadModules(loadBundles?bundles:[]).then(function(){return loadModules(dependencies)}).then(function(loadedModules){return _.forEach(dependencies,function(dependency,index){var module=loadedModules[index],category=_.findKey(
modules,function(val){return _.contains(val,dependency)});if("function"==typeof validate&&!validate(module))throw new TypeError("The module '".concat(dependency,"' is not valid"));_.isString(category)&&(loaded[category]=loaded[category]||[],loaded[category].push(module))}),self.getModules()})},getModules:function(category){return _.isString(category)?loaded[category]||[]:_(loaded).values().flatten().uniq().value()},getCategories:function(){return _.keys(loaded)}};return validate=_.isFunction(validate)?validate:_.isPlainObject,_.forEach(requiredModules,function(moduleList,category){if(_.isEmpty(category)||!_.isString(category))throw new TypeError(
"Modules must belong to a category");if(!_.isArray(moduleList))throw new TypeError("A list of modules must be an array");if(!_.all(moduleList,validate))throw new TypeError("The list does not contain valid modules");loaded[category]?loaded[category]=loaded[category].concat(moduleList):loaded[category]=moduleList}),specs&&_(specs).functions().forEach(function(method){loader[method]=function(){return specs[method].apply(loader,[].slice.call(arguments))}}),loader}}),define("core/logger/api",["lodash","core/format","core/moduleLoader"],function(_,format,moduleLoader){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,format=format&&format.hasOwnProperty(
"default")?format.default:format,moduleLoader=moduleLoader&&moduleLoader.hasOwnProperty("default")?moduleLoader.default:moduleLoader;function loggerFactory(name,minLevel,fields){var baseRecord,logger;if(!_.isString(name)||_.isEmpty(name))throw new TypeError("A logger needs a name");return _.isPlainObject(minLevel)&&"undefined"==typeof field&&(fields=minLevel,minLevel=defaultLevel),baseRecord=_.defaults(fields||{},{name:name,pid:1,hostname:navigator.userAgent}),logger={log:function(level,recordFields,message){var record,err,rest=[],time=(new Date).toISOString();if(!1!==loggerFactory.providers&&checkMinLevel(minLevel||defaultLevel,level)
)return rest=_.isString(recordFields)||recordFields instanceof Error?(message=recordFields,recordFields={},[].slice.call(arguments,2)):[].slice.call(arguments,3),record={level:getLevel(level),v:0,time:time},checkMinLevel(levels.error,level)||message instanceof Error?(err=message instanceof Error?message:(message=_.isObject(message)?JSON.stringify(message):message,new Error(message)),record.msg=err.message,record.err=err):record.msg=format.apply(null,[message].concat(rest)),_.merge(record,baseRecord,recordFields),logQueue.push(record),loggerFactory.flush(),this},level:function(value){return void 0!==value?(minLevel=getLevelNum(value),this):getLevel(minLevel)
},child:function(childFields){return loggerFactory(name,minLevel,_.defaults(childFields,baseRecord))}},_.reduce(levels,function(target,level,levelName){return target[levelName]=_.partial(logger.log,level),target},logger)}var defaultLevel="info",levels={fatal:60,error:50,warn:40,info:30,debug:20,trace:10},logQueue=[],getLevel=function(level){return void 0===level||_.isString(level)&&!_.has(levels,level)?defaultLevel:_.isNumber(level)?_.findKey(levels,function(l){return l===level})||defaultLevel:level},getLevelNum=function(level){return _.isString(level)&&_.has(levels,level)?levels[level]:_.isNumber(level)&&_.contains(levels,level)?level:levels[defaultLevel]},
checkMinLevel=function(minLevel,level){return getLevelNum(level)>=getLevelNum(minLevel)};return loggerFactory.levels=levels,loggerFactory.providers=!1,loggerFactory.load=function(providerConfigs){var _this=this;this.providers=[];var modules=Object.keys(providerConfigs||{}).map(function(module){return{module:module,category:"logger"}});return moduleLoader().addList(modules).load().then(function(loadedProviders){loadedProviders.forEach(function(provider,moduleKey){var providerConfig=modules[moduleKey]&&modules[moduleKey].module&&providerConfigs[modules[moduleKey].module];_this.register(provider,providerConfig)})}).then(function(){return _this.flush()})},
loggerFactory.register=function(provider,providerConfig){if(!_.isPlainObject(provider)||!_.isFunction(provider.log))throw new TypeError("A log provider is an object with a log method");provider.checkMinLevel=checkMinLevel,_.isFunction(provider.setConfig)&&provider.setConfig(providerConfig),this.providers=this.providers||[],this.providers.push(provider)},loggerFactory.flush=function(){_.isArray(this.providers)&&0<this.providers.length&&(_.forEach(logQueue,function(message){_.forEach(loggerFactory.providers,function(provider){provider.log(message)})}),logQueue=[])},loggerFactory.setDefaultLevel=function(level){return defaultLevel=getLevel(level)},loggerFactory
}),define("core/logger",["lodash","module","core/logger/api"],function(_,module,loggerFactory){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,module=module&&module.hasOwnProperty("default")?module.default:module;var defaultConfig={level:(loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory).levels.warn,loggers:{"core/logger/console":{level:"warn"}}},config=_.defaults(module.config()||{},defaultConfig),logger=loggerFactory("core/logger");return loggerFactory.setDefaultLevel(config.level),loggerFactory.load(config.loggers),window.onerror=function(msg,url,line,col,error){logger.error(
"Caught[via window.onerror]: '"+msg+"' from "+url+":"+line+":"+col)},window.setTaoLogLevel=function(level){return loggerFactory.setDefaultLevel(level)},loggerFactory}),define("util/url",["lodash","context"],function(_,context){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}_=_&&_.hasOwnProperty("default")?_.default:_,context=context&&context.hasOwnProperty("default")?context.default:context;var parsers={absolute:/^(?:[a-z]+:)?\/\//i,
base64:/^data:[^\/]+\/[^;]+(;charset=[\w]+)?;base64,/,query:/(?:^|&)([^&=]*)=?([^&]*)/g,url:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/};return{parse:function(url){var matches,keys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","queryString","hash"],i=keys.length,parsed=Object.create({toString:function(){return this.source}});if(parsed.base64=parsers.base64.test(url),parsed.base64)parsed.source=url;else{for(matches=parsers.url.exec(url);i--;)parsed[keys[i]]=matches[i]||"";parsed.query={},
parsed.queryString.replace(parsers.query,function($0,$1,$2){$1&&(parsed.query[$1]=$2)})}return parsed},isAbsolute:function(url){return"object"===_typeof(url)&&url.hasOwnProperty("source")?url.source!==url.relative:"string"==typeof url?parsers.absolute.test(url):void 0},isRelative:function(url){var absolute=this.isAbsolute(url);if("boolean"==typeof absolute)return!absolute},isBase64:function(url){return"object"===_typeof(url)&&url.hasOwnProperty("source")?url.base64:"string"==typeof url?parsers.base64.test(url):void 0},encodeAsXmlAttr:function(uri){return/[<>&']+/.test(uri)?encodeURIComponent(uri):uri},build:function(path,params){var url,hasQueryString,
queryString="";return path&&(_.isString(path)&&(url=path),_.isArray(path)&&(url="",_.forEach(path,function(chunk){/\/$/.test(url)&&/^\//.test(chunk)?url+=chunk.substr(1):""===url||/\/$/.test(url)||/^\//.test(chunk)?url+=chunk:url+="/"+chunk})),_.isPlainObject(params)&&(hasQueryString=-1<url.indexOf("?"),queryString=_.reduce(params,function(acc,value,key){return _.isEmpty(acc)&&!hasQueryString||(acc+="&"),"object"!==_typeof(value)||_.isArray(value)?acc+=encodeURIComponent(key)+"="+encodeURIComponent(value):_.forOwn(value,function(parameterValue,parameterName){acc+=encodeURIComponent(key)+"["+encodeURIComponent(parameterName)+"]="+encodeURIComponent(
parameterValue)+"&"}),acc},queryString),_.isEmpty(queryString)||(hasQueryString||(url+="?"),url+=queryString))),url},route:function(action,controller,extension,params,rootUrl){var routeParts=[extension,controller,action];if(_.some(routeParts,function(value){return _.isEmpty(value)||!_.isString(value)}))throw new TypeError("All parts are required to build an URL");return rootUrl=rootUrl||context&&context.root_url,this.build([rootUrl].concat(routeParts),params)}}}),define("core/eventifier",["lodash","core/promise","lib/uuid","core/logger"],function(_,Promise,uuid,loggerFactory){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,
Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid,loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory;var defaultNs="@",eventifierLogger=loggerFactory("core/eventifier");function getEventNames(eventNames){return!_.isString(eventNames)||_.isEmpty(eventNames)?[]:_(eventNames.split(/\s/g)).compact().uniq().value()}function getName(eventName){return-1<eventName.indexOf(".")?eventName.substr(0,eventName.indexOf(".")):eventName}function getNamespace(eventName){return-1<eventName.indexOf(".")?eventName.substr(eventName.indexOf(
".")+1):defaultNs}return function(target){var targetName,logger,stoppedEvents,eventHandlers={},getHandlers=function(eventName,type){var name=getName(eventName),ns=getNamespace(eventName);return type=type||"between",eventHandlers[ns]=eventHandlers[ns]||{},eventHandlers[ns][name]=eventHandlers[ns][name]||{before:[],between:[],after:[]},eventHandlers[ns][name][type]},eventApi={on:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName).push(handler)}),this},off:function(eventNames){return _.forEach(getEventNames(eventNames),function(eventName){var offNamespaces,name=getName(
eventName),ns=getNamespace(eventName);ns&&!name?"*"===ns?((offNamespaces={})[defaultNs]=eventHandlers[defaultNs],eventHandlers=offNamespaces):eventHandlers[ns]={}:_.forEach(eventHandlers,function(nsHandlers,namespace){!nsHandlers[name]||ns!==defaultNs&&ns!==namespace||(nsHandlers[name]={before:[],between:[],after:[]})})}),this},removeAllListeners:function(){return eventHandlers={},this},trigger:function(eventNames){var self=this,args=[].slice.call(arguments,1);function triggerBetween(allHandlers,event){shouldStop(event.name)?logHandlerStop("before",event):triggerHandlers(allHandlers.between,event).then(function(){!function(handlers,event){shouldStop(
event.name)?logHandlerStop("on",event):triggerHandlers(handlers,event).then(function(){shouldStop(event.name)&&logHandlerStop("after",event)}).catch(function(err){logHandlerStop("after",event,err)})}(allHandlers.after,event)}).catch(function(err){logHandlerStop("on",event,err)})}function triggerHandlers(handlers,event){var pHandlers;return pHandlers=handlers.map(function(handler){return shouldStop(event.name)?Promise.reject():handler.apply(self,args)}),Promise.all(pHandlers)}function logHandlerStop(stoppedIn,event,err){err instanceof Error&&logger.error(err),logger.trace({err:err,event:event.name,stoppedIn:stoppedIn},event.name+" handlers stopped")}
function shouldStop(name){return stoppedEvents[name]}return stoppedEvents={},_.forEach(getEventNames(eventNames),function(eventName){var ns=getNamespace(eventName),name=getName(eventName),mergedHandlers=_(eventHandlers).filter(function(nsHandlers,namespace){return nsHandlers[name]&&(ns===defaultNs||ns===namespace||"*"===namespace)}).reduce(function(acc,nsHandlers){return acc.before=acc.before.concat(nsHandlers[name].before),acc.between=acc.between.concat(nsHandlers[name].between),acc.after=acc.after.concat(nsHandlers[name].after),acc},{before:[],between:[],after:[]});logger.trace({event:eventName,args:args},"trigger %s",eventName),mergedHandlers&&function(
allHandlers,name,ns){var event={name:name,namespace:ns};allHandlers.before.length?function(handlers,event){var pHandlers,beforeArgs=args.slice();return beforeArgs.unshift(event),pHandlers=handlers.map(function(handler){var value=!shouldStop(event.name)&&handler.apply(self,beforeArgs);return!1===value?Promise.reject():value}),Promise.all(pHandlers)}(allHandlers.before,event).then(function(){triggerBetween(allHandlers,event)}).catch(function(err){logHandlerStop("before",event,err)}):triggerBetween(allHandlers,event)}(mergedHandlers,name,ns)}),this},before:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(
eventName){getHandlers(eventName,"before").push(handler)}),this},after:function(eventNames,handler){return _.isFunction(handler)&&_.forEach(getEventNames(eventNames),function(eventName){getHandlers(eventName,"after").push(handler)}),this},stopEvent:function(name){_.isString(name)&&!_.isEmpty(name.trim())&&(stoppedEvents[name.trim()]=!0)},spread:function(destination,eventNames){var self=this;return destination&&_.isFunction(destination.trigger)&&(_.isString(eventNames)&&(eventNames=getEventNames(eventNames)),_.forEach(eventNames,function(eventName){self.on(eventName,function(){var args=[eventName].concat([].slice.call(arguments));destination.trigger.apply(
destination,args)})})),this}};return targetName=(target=target||{}).name||target.id||target.serial||uuid(6),logger=eventifierLogger.child({target:targetName}),_(eventApi).functions().forEach(function(method){_.isFunction(target[method])&&eventifierLogger.warn("The target object has already a method named "+method,target),target[method]=function(){var args=[].slice.call(arguments);return eventApi[method].apply(target,args)}}),target}}),define("css!ui/component/css/components",[],function(){}),define("ui/component",["jquery","lodash","core/eventifier","handlebars","i18n","lib/dompurify/purify","css!ui/component/css/components.css"],function($$1,_,eventifier,
Handlebars,__,DOMPurify,components_css){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,
fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment
)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,
__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),'<div class="component"></div>'});function defaultTpl(data,options,asString){var html=Template(data,options);return html}var _slice=[].slice;function delegatedResize(){var width=this.config.width,height=this.config.height,$container=this.getContainer(),$element=this.getElement()
;$container&&("auto"===width&&(width=$container.width()),"auto"===height&&(height=$container.height())),$element&&(_.isNumber(width)&&$element.css({width:"".concat(width,"px")}),_.isNumber(height)&&$element.css({height:"".concat(height,"px")})),this._width=width,this._height=height}return function(specs,defaults){var $container,componentTpl=defaultTpl,componentState={},componentApi={init:function(config){return this.config=_(config||{}).omit(function(value){return null==value}).defaults(defaults||{}).value(),componentState={},this.trigger("init"),this.config.renderTo&&($container=$$1(this.config.renderTo),this.render()),this},destroy:function(){
return this.trigger("destroy"),this.$component&&this.$component.remove(),this.$component=null,componentState={},this},render:function(container){return container&&($container=$$1(container)),this.$component=$$1(componentTpl(this.config)),$container&&(this.config.replace&&$container.empty(),$container.append(this.$component)),this.setState("rendered",!0),delegatedResize.call(this),this.trigger("render",this.$component),this},setSize:function(width,height){return this.config.width=width,this.config.height=height,this.is("rendered")&&delegatedResize.call(this),this.trigger("setsize",width,height),this},getSize:function(){if(this.is("rendered"))return{
width:this._width||0,height:this._height||0}},getOuterSize:function(includeMargin){var $component;if(this.is("rendered"))return $component=this.getElement(),includeMargin=includeMargin||!1,{width:Math.round($component.outerWidth(includeMargin)),height:Math.round($component.outerHeight(includeMargin))}},show:function(){return this.trigger("show",this),this.setState("hidden",!1)},hide:function(){return this.trigger("hide",this),this.setState("hidden",!0)},enable:function(){return this.trigger("enable",this),this.setState("disabled",!1)},disable:function(){return this.trigger("disable",this),this.setState("disabled",!0)},is:function(state){
return!!componentState[state]},setState:function(state,flag){return flag=!!flag,componentState[state]=flag,this.$component&&this.$component.toggleClass(state,flag),this.trigger("state",state,flag,this),this},getContainer:function(){return $container},getElement:function(){return this.$component},getTemplate:function(){return componentTpl},setTemplate:function(template){var tpl=template||defaultTpl;return componentTpl=tpl,_.isFunction(componentTpl)||(componentTpl=function(){return tpl}),this.trigger("template",componentTpl),this},getConfig:function(){return this.config||defaults||{}}};return specs&&_(specs).functions().forEach(function(method){
componentApi[method]=function(){return specs[method].apply(componentApi,_slice.call(arguments))}}),eventifier(componentApi)}}),define("util/regexEscape",[],function(){"use strict";return function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}),define("util/wrapLongWords",["util/regexEscape"],function(regexEscape){"use strict";regexEscape=regexEscape&&regexEscape.hasOwnProperty("default")?regexEscape.default:regexEscape;var getCutTerm=function(longWord,chunkExp){for(var cutTerms=longWord.match(chunkExp),i=cutTerms.length,oldFirst="",newFirst="",offenders=[".",":",";"];i--;)newFirst=cutTerms[i].charAt(0),-1<offenders.indexOf(newFirst)&&(
cutTerms[i]=cutTerms[i].substr(1)),-1<offenders.indexOf(oldFirst)&&(cutTerms[i]=cutTerms[i]+oldFirst),oldFirst=newFirst;return cutTerms.join(" ")};return function(str,threshold){str=str.toString().replace(/([\w])</g,"$1 <");for(var cut,chunkExp=new RegExp(".{1,"+threshold+"}","g"),longWords=str.match(new RegExp("[\\S]{"+threshold+",}","g"))||[],i=longWords.length;i--;)cut=getCutTerm(longWords[i],chunkExp),str=str.replace(new RegExp(regexEscape(longWords[i]),"g"),cut);return str}}),define("util/encode",[],function(){"use strict";var _reQuot=/"/g,_reApos=/'/g,encodeHTML=function(html){return document.createElement("a").appendChild(document.createTextNode(html)
).parentNode.innerHTML};return{html:encodeHTML,attribute:function(html){return encodeHTML(html).replace(_reQuot,"&quot;").replace(_reApos,"&apos;")},encodeBase64:function(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,function(match,p1){return String.fromCharCode("0x"+p1)}))},decodeBase64:function(str){return decodeURIComponent(Array.prototype.map.call(atob(str),function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))}}}),define("ui/feedback",["jquery","lodash","core/format","ui/component","util/wrapLongWords","util/encode","handlebars","i18n","lib/dompurify/purify"],function($$1,_,format,component,wrapLongWords,
encode,Handlebars,__,DOMPurify){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,
fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment
)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,format=format&&format.hasOwnProperty("default")?format.default:format,component=component&&component.hasOwnProperty("default")?component.default:component,
wrapLongWords=wrapLongWords&&wrapLongWords.hasOwnProperty("default")?wrapLongWords.default:wrapLongWords,encode=encode&&encode.hasOwnProperty("default")?encode.default:encode,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,
helper,options,buffer="",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div id="',buffer+=escapeExpression(stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.id)?helper.call(depth0,{hash:{},data:data}):helper)+'" class="feedback feedback-',buffer+=escapeExpression(stack1=(helper=helpers.level)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.level)?helper.call(depth0,{hash:{},data:data}):helper)+" ",!(stack1=helpers.if.call(depth0,depth0&&depth0.popup,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){
return"popup"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='">\n    <span class="icon-',buffer+=escapeExpression(stack1=(helper=helpers.level)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.level)?helper.call(depth0,{hash:{},data:data}):helper)+'"></span>\n    <div>\n        ',options={hash:{},data:data},!(stack1=(helper=helpers.dompurify||depth0&&depth0.dompurify)?helper.call(depth0,depth0&&depth0.msg,options):helperMissing.call(depth0,"dompurify",depth0&&depth0.msg,options))&&0!==stack1||(buffer+=stack1),buffer+='\n    </div>\n    <span title="'+escapeExpression((options={hash:{},data:data},(
helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Close message",options):helperMissing.call(depth0,"__","Close message",options)))+'" class="icon-close" data-close=":parent .feedback"></span>\n</div>\n'});function tpl(data,options,asString){var html=Template(data,options);return html}var currents=[],levels=["info","success","warning","danger","error"],defaultOptions={timeout:{info:2e3,success:2e3,warning:4e3,danger:4e3,error:8e3},wrapLongWordsAfter:40,encodeHtml:!0,popup:!0};return function($container,config){if($container&&$container.length||($container=$$1("#feedback-box")),!$container.length)throw new TypeError(
"The feedback needs to belong to an existing container");return component({message:function(level,msg,params,options){var displayedMessage=msg;return level&&_.contains(levels,level)||(level="info"),_.isPlainObject(params)&&(options=params,params=[]),this.config=_.defaults(options||{},this.config),this.config.level=level,this.config.encodeHtml&&(displayedMessage=encode.html(displayedMessage)),this.config.wrapLongWordsAfter&&(displayedMessage=wrapLongWords(displayedMessage,this.config.wrapLongWordsAfter)),_.isArray(params)&&params.length&&(displayedMessage=format.apply(format,[displayedMessage].concat(params))),this.config.msg=displayedMessage,this},
info:function(msg,params,options){return this.message("info",msg,params,options).open()},success:function(msg,params,options){return this.message("success",msg,params,options).open()},warning:function(msg,params,options){return this.message("warning",msg,params,options).open()},danger:function(msg,params,options){return this.message("danger",msg,params,options).open()},error:function(msg,params,options){return this.message("error",msg,params,options).open()},open:function(){return _(currents).reject(this).invoke("close"),this.display()},close:function(){this.is("rendered")&&this.destroy()},display:function(){return this.is("rendered")?this.show(
):this.render($container),this}},defaultOptions).setTemplate(tpl).on("init",function(){this.config.id="feedback-"+(currents.length+1),currents.push(this),$container.trigger("create.feedback")}).on("render",function(){var self=this,$component=this.getElement(),$closer=$$1(".icon-close",$component),timeout=_.isPlainObject(this.config.timeout)?this.config.timeout[this.config.level]:this.config.timeout;$closer.off("click").on("click",function(e){e.preventDefault(),self.destroy()}),_.isNumber(timeout)&&0<timeout&&_.delay(function(){self.close()},timeout),$container.trigger("display.feedback")}).on("destroy",function(){$container.trigger("close.feedback"),
_.remove(currents,this)}).init(config)}}),define("tpl!taoSync/component/synchronization/detailedReport",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div class="modal sync-report-modal">\n    <section>\n        <h1>\n            '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Synchronization report data",
options):helperMissing.call(depth0,"__","Synchronization report data",options)))+"\n        </h1>\n        ",!(stack1=helpers.each.call(depth0,depth0&&depth0.data,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var stack1,buffer="";return buffer+="\n        <h2>"+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+":</h2>\n        <div><pre>"+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+"</pre></div>\n        <hr>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </section>\n</div>"})}),define(
"tpl!taoSync/component/synchronization/list",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){return this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),{},'<div class="component results-list">\n    <div class="list"></div>\n</div>'})}),define("core/pluginifier",["jquery","lodash"],function($,_){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}
$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_;var basePlugin={options:function(dataNs,ns,_options){return this.each(function(){var $elt=$(this),currentOptions=$elt.data(dataNs);currentOptions&&$elt.data(dataNs,_.merge(currentOptions,_options))})},disable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);options&&$elt.addClass(options.disableClass||"disabled").trigger("disable."+ns)})},enable:function(dataNs,ns){return this.each(function(){var $elt=$(this),options=$elt.data(dataNs);options&&$elt.removeClass(options.disableClass||"disabled").trigger("enable."+ns)})}};return{
register:function(pluginName,plugin,config){var ns=(config=config||{}).ns||pluginName.toLowerCase(),dataNs=config.dataNs||"ui."+ns,expose=config.expose||[];return _.isFunction($.fn[pluginName])?$.error("A plugin named "+pluginName+" is already registered"):_.isPlainObject(plugin)&&_.isFunction(plugin.init)?(_.assign(plugin,_.transform(basePlugin,function(result,prop,key){_.isFunction(prop)&&(result[key]=_.partial(basePlugin[key],dataNs,ns))})),_.forEach(expose,function(toExposeName){var privateMethod=toExposeName,publicMethod=toExposeName;/^_/.test(expose)?publicMethod=publicMethod.replace(/^_/,""):privateMethod="_"+privateMethod,_.isFunction(
plugin[privateMethod])&&!_.isFunction(plugin[publicMethod])&&(plugin[publicMethod]=function(){var returnValue,args=Array.prototype.slice.call(arguments,0);return this.each(function(){returnValue=plugin[privateMethod].apply(plugin,[$(this)].concat(args))}),returnValue||this})}),void($.fn[pluginName]=function(method){if(plugin[method]){if(!/^_/.test(method))return plugin[method].apply(this,Array.prototype.slice.call(arguments,1));$.error("Trying to call a private method `"+method+"`")}else if("object"===_typeof(method)||!method)return plugin.init.apply(this,arguments);$.error("Method "+method+" does not exist on plugin")})):$.error(
"The object to register as a jQuery plugin must be a plain object with an `init` method.")}}}),define("core/providerRegistry",["lodash"],function(_){"use strict";return _=_&&_.hasOwnProperty("default")?_.default:_,function(target,validator){var _providers={};return(target=target||{}).registerProvider=function(name,provider){var valid=!0;if(!_.isString(name)||name.length<=0)throw new TypeError("It is required to give a name to your provider.");if(!_.isPlainObject(provider)||!_.isFunction(provider.init))throw new TypeError("A provider is an object that contains at least an init function.");return(valid=validator&&_.isFunction(validator)?validator(provider
):valid)&&(_providers[name]=provider),this},target.getProvider=function(providerName){var provider;if(!_providers||0===_.size(_providers))throw new Error("No provider registered");if(_.isString(providerName)&&0<providerName.length?provider=_providers[providerName]:1===_.size(_providers)&&(providerName=_.keys(_providers)[0],provider=_providers[providerName]),!provider)throw new Error("No candidate found for the provider");return provider},target.getAvailableProviders=function(){return _.keys(_providers)},target.clearProviders=function(){return _providers={},this},target}}),define("ui/datatable/filterStrategy/multiple",["jquery","lodash"],function($,_){
"use strict";return $=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,{init:function(){},getQueryData:function($table,$filterElement,options){var data={filtercolumns:{}};if(0!==$(".filter",$table).length)return _.forEach($(".filter",$table),function(filter){var name,model,filterValue,$filter=$(filter),column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(model=_.find(options.model,function(o){return o.id===column}),name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,"$1"),$filterInput.val()&&(
filterValue=$filterInput.val(),model&&"function"==typeof model.filterTransform&&(filterValue=model.filterTransform(filterValue)),data.filtercolumns[name]=filterValue))}),data},getFiltersData:function($table,$filterElement,options){var data={filtercolumns:{}};return _.forEach($(".filter",$table),function(filter){var name,filterValue,$filter=$(filter),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,"$1"),$filterInput.val()&&(filterValue=$filterInput.val(),data.filtercolumns[name]=filterValue))}),data},render:function($table,options
){_.forEach($(".filter",$table),function(filter){var model,name,$filter=$(filter),column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter);0!==$filterInput.length&&(model=_.find(options.model,function(o){return o.id===column}),name=$filterInput.attr("name").replace(/^filter\[(.+)\]$/,"$1"),options.filtercolumns&&options.filtercolumns[name]&&$filterInput.val(options.filtercolumns[name]),model&&model.customFilter&&"function"==typeof model.customFilter.callback&&model.customFilter.callback($filterInput))})}}}),define("ui/datatable/filterStrategy/single",["jquery","lodash"],function($,_){
"use strict";return $=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,{init:function(){},getQueryData:function($table,$filter,options){var data={},column=$filter.data("column"),model=_.find(options.model,function(o){return o.id===column});if(0!==$filter.length)return data.filterquery=$filter.find(":input").filter(function(){return $(this).val()}).val(),model&&"function"==typeof model.filterTransform&&(data.filterquery=model.filterTransform(data.filterquery)),data.filtercolumns=column?column.split(","):options.filtercolumns,data},getFiltersData:function($table,$filter,options){var data={},column=$filter.data("column")
;if(0!==$filter.length)return data.filterquery=$filter.find(":input").filter(function(){return $(this).val()}).val(),data.filtercolumns=column?column.split(","):options.filter.columns,data},render:function($table,options){var filterColumns=options.filtercolumns?options.filtercolumns:[];_.forEach($(".filter",$table),function(filter){var $filter=$(filter),column=$filter.data("column"),filterSelector=options.filterSelector||"select, input",$filterInput=$(filterSelector,$filter),model=_.find(options.model,function(o){return o.id===column});options.filterquery&&column===filterColumns.join()&&$filterInput.val(options.filterquery).addClass("focused"),
model&&model.customFilter&&"function"==typeof model.customFilter.callback&&model.customFilter.callback($filterInput)})}}}),define("ui/datatable/filterStrategy/filterStrategy",["core/providerRegistry","ui/datatable/filterStrategy/multiple","ui/datatable/filterStrategy/single"],function(providerRegistry,multipleStrategy,singleStrategy){"use strict";var filter;return providerRegistry=providerRegistry&&providerRegistry.hasOwnProperty("default")?providerRegistry.default:providerRegistry,multipleStrategy=multipleStrategy&&multipleStrategy.hasOwnProperty("default")?multipleStrategy.default:multipleStrategy,
singleStrategy=singleStrategy&&singleStrategy.hasOwnProperty("default")?singleStrategy.default:singleStrategy,(filter=providerRegistry(function filterStrategy(datatableOptions){var strategy;return{init:function(){var strategyId=datatableOptions.filterStrategy||"single";return strategy=filterStrategy.getProvider(strategyId),this},getQueryData:function($table,$filter,options){return strategy.getQueryData($table,$filter,options)},getFiltersData:function($table,$filter,options){return strategy.getFiltersData($table,$filter,options)},render:function($table,options){return strategy.render($table,options)}}.init()})).registerProvider("single",singleStrategy),
filter.registerProvider("multiple",multipleStrategy),filter}),define("ui/pagination/providers/pages",["jquery","lodash","handlebars","i18n","lib/dompurify/purify"],function($$1,_,Handlebars,__,DOMPurify){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",
function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret=""
;startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default"
)?Handlebars.default:Handlebars,__=__&&__.hasOwnProperty("default")?__.default:__,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression
;return buffer+='<div class="grid-row clearfix pagination">\n    <ul class="pages">\n        <li class="first-page"><span class="icon-fast-backward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"First page",options):helperMissing.call(depth0,"__","First page",options)))+'"></span></li>\n        <li class="previous"><span class="icon-backward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Previous",options):helperMissing.call(depth0,"__","Previous",options))
)+'"></span></li>\n        <li class="next"><span class="icon-forward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Next",options):helperMissing.call(depth0,"__","Next",options)))+'"></span></li>\n        <li class="last-page"><span class="icon-fast-forward" title="'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Last page",options):helperMissing.call(depth0,"__","Last page",options)))+'"></span></li>\n    </ul>\n</div>\n'});Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(
function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,buffer="";return buffer+='<li class="page"><span>',buffer+=(0,this.escapeExpression)((helper=helpers.page)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.page)?helper.call(depth0,{hash:{},data:data}):helper)+"</span></li>\n"});return{init:function(){var $paginationTpl,generatePage=function(page){return $$1(function(data,options){var html=Template$1(data,options);return html}({page:page}))},separator=function(){var $page=generatePage("...");return $page.addClass("separator"
),$page},generatePart=function(from,to,activePage){var i,$page,pages=[];for(i=from;i<=to;i++)$page=generatePage(i),i===activePage&&$page.addClass("active"),pages.push($page);return pages},getForwardBtn=function(){return $$1(".next",$paginationTpl)};return{render:function($container){$paginationTpl=$$1(function(data,options){var html=Template(data,options);return html}()),$container.append($paginationTpl)},forwardButton:function(){return getForwardBtn()},backwardButton:function(){return $$1(".previous",$paginationTpl)},pageButtons:function(){return $$1(".page",$paginationTpl)},firstPageButton:function(){return $$1(".first-page",$paginationTpl)},
lastPageButton:function(){return $$1(".last-page",$paginationTpl)},setPages:function(page,total){var pages=function(page,total){var pages=[];return pages=total<=7?pages.concat(generatePart(1,total,page)):page<5?(pages=(pages=pages.concat(generatePart(1,5,page))).concat(separator())).concat(generatePart(total,total,page)):total-3<=page?(pages=(pages=pages.concat(generatePart(1,1,page))).concat(separator())).concat(generatePart(total-3,total,page)):(pages=(pages=(pages=(pages=pages.concat(generatePart(1,1,page))).concat(separator())).concat(generatePart(page-1,page+1,page))).concat(separator())).concat(generatePart(total,total,page))}(page,total);$$1(".page",
$paginationTpl).remove(),function(list){var $point=getForwardBtn();_.each(list,function($page){$page.insertBefore($point)})}(pages)},disableButton:function($btn){$btn.hasClass("disabled")||$btn.addClass("disabled")},enableButton:function($btn){$btn.hasClass("disabled")&&$btn.removeClass("disabled")},destroy:function(){$paginationTpl.remove()},disable:function(){var self=this;this.disableButton(this.backwardButton()),this.disableButton(this.firstPageButton()),$$1(".page",$paginationTpl).each(function(){self.disableButton($$1(this))}),this.disableButton(this.lastPageButton()),this.disableButton(this.forwardButton())},enable:function(){var self=this;$$1(".page"
,$paginationTpl).each(function(){self.enableButton($$1(this))})}}}}}),define("ui/pagination/providers/simple",["jquery","handlebars","i18n","lodash","lib/dompurify/purify"],function($$1,Handlebars,__,_,DOMPurify){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper(
"join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){
var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,
__=__&&__.hasOwnProperty("default")?__.default:__,_=_&&_.hasOwnProperty("default")?_.default:_,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],data=data||{};var helper,options,buffer="",helperMissing=(helpers=this.merge(helpers,Handlebars.helpers)).helperMissing,escapeExpression=this.escapeExpression;return buffer+='<div class="grid-row clearfix pagination">\n    <div class="col-6">'+escapeExpression((options={hash:{},data:data},(
helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Page",options):helperMissing.call(depth0,"__","Page",options)))+' <strong class="page">',buffer+=escapeExpression((helper=helpers.activePage)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.activePage)?helper.call(depth0,{hash:{},data:data}):helper)+"</strong> "+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"of",options):helperMissing.call(depth0,"__","of",options)))+' <span class="total">',buffer+=escapeExpression((helper=helpers.totalPages)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(
helper=depth0&&depth0.totalPages)?helper.call(depth0,{hash:{},data:data}):helper)+'</span></div>\n    <div class="col-6 txt-rgt">\n        <button class="btn-info small"><span class="icon-backward"></span>'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Previous",options):helperMissing.call(depth0,"__","Previous",options)))+'</button>\n        <button class="btn-info small">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Next",options):helperMissing.call(depth0,"__","Next",options))
)+'<span class="icon-forward r"></span></button>\n    </div>\n</div>\n'});return{init:function(){var $paginationTpl;return{render:function($container){$paginationTpl=$$1(function(data,options){var html=Template(data,options);return html}()),$container.append($paginationTpl)},forwardButton:function(){return $$1(".icon-forward",$paginationTpl).parents("button")},backwardButton:function(){return $$1(".icon-backward",$paginationTpl).parents("button")},setPages:function(page,total){$$1(".page",$paginationTpl).text(page),$$1(".total",$paginationTpl).text(total)},disableButton:function($btn){$btn.attr("disabled","disabled")},enableButton:function($btn){$btn.attr(
"disabled")&&$btn.removeAttr("disabled")},pageButtons:function(){return!1},firstPageButton:function(){return!1},lastPageButton:function(){return!1},destroy:function(){$paginationTpl.remove()},disable:function(){this.disableButton(this.backwardButton()),this.disableButton(this.forwardButton())},enable:function(){}}}}}),define("ui/pagination/paginationStrategy",["core/providerRegistry","ui/pagination/providers/pages","ui/pagination/providers/simple"],function(providerRegistry,pagesProvider,simpleProvider){"use strict";var paginationProvider;providerRegistry=providerRegistry&&providerRegistry.hasOwnProperty("default")?providerRegistry.default:providerRegistry,
pagesProvider=pagesProvider&&pagesProvider.hasOwnProperty("default")?pagesProvider.default:pagesProvider,simpleProvider=simpleProvider&&simpleProvider.hasOwnProperty("default")?simpleProvider.default:simpleProvider;return(paginationProvider=providerRegistry(function paginationStrategy(mode){return function(){return paginationStrategy.getProvider(mode||"simple")}()})).registerProvider("simple",simpleProvider),paginationProvider.registerProvider("pages",pagesProvider),paginationProvider}),define("css!ui/pagination/css/pagination",[],function(){}),define("ui/pagination",["jquery","lodash","i18n","ui/component","ui/pagination/paginationStrategy",
"css!ui/pagination/css/pagination.css"],function($,_,__,component,paginationStrategy,pagination_css){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,component=component&&component.hasOwnProperty("default")?component.default:component,paginationStrategy=paginationStrategy&&paginationStrategy.hasOwnProperty("default")?paginationStrategy.default:paginationStrategy;var _defaults={mode:"simple",activePage:1,totalPages:1};function calculateActivePage(page,pages){return(page=parseInt(page))<1&&(page=1),pages<page&&(page=pages),page}return function(config){
var paginationComponent,provider,totalPages,activePage;return config=_.defaults(config||{},_defaults),(paginationComponent=component({setPage:function(page){!1===(page=calculateActivePage(page,this.getTotal()))?this.trigger("error",__("Undefined amount of the pages for pagination")):(activePage=page,provider.setPages(this.getActivePage(),this.getTotal()),this.trigger("change"))},nextPage:function(){this.setPage(this.getActivePage()+1),this.trigger("next")},previousPage:function(){this.setPage(this.getActivePage()-1),this.trigger("prev")},getActivePage:function(){return activePage},getTotal:function(){return totalPages},refresh:function(){this.getActivePage(
)===this.getTotal()?(provider.disableButton(provider.forwardButton()),!1!==provider.lastPageButton()&&provider.disableButton(provider.lastPageButton())):(provider.enableButton(provider.forwardButton()),!1!==provider.lastPageButton()&&provider.enableButton(provider.lastPageButton())),1===this.getActivePage()?(provider.disableButton(provider.backwardButton()),!1!==provider.firstPageButton()&&provider.disableButton(provider.firstPageButton())):(provider.enableButton(provider.backwardButton()),!1!==provider.firstPageButton()&&provider.enableButton(provider.firstPageButton()))}})).on("change enable",function(){provider.enable(),this.refresh()}).on("render",
function(){var self=this;_.isUndefined(config.totalPages)&&this.trigger("error",__("Undefined amount of the totalPages for pagination")),!1===(totalPages=function(totalPages){return!((totalPages=totalPages||1)<1)&&totalPages}(config.totalPages))&&this.trigger("error",__("Undefined amount of the pages for pagination")),activePage=calculateActivePage(config.activePage||1,totalPages),(provider=paginationStrategy(config.mode).init()).render(this.getContainer()),this.setPage(this.getActivePage()),provider.forwardButton().off("click").on("click",function(){self.getActivePage()>=self.getTotal()||self.nextPage()}),provider.backwardButton().off("click").on("click",
function(){1!==self.getActivePage()&&self.previousPage()}),!1!==provider.pageButtons()&&provider.pageButtons().off("click").on("click",function(){var page=parseInt($(this).text());page&&self.setPage(page)}),!1!==provider.firstPageButton()&&provider.firstPageButton().off("click").on("click",function(){self.setPage(1)}),!1!==provider.lastPageButton()&&provider.lastPageButton().off("click").on("click",function(){self.setPage(self.getTotal())})}).on("disable",function(){provider.disable()}).on("destroy",function(){provider.destroy()}).init(config),paginationComponent}}),define("util/httpErrorParser",[],function(){"use strict";return{parse:function(xhr,options,
errorThrown){var msg,json,error;try{msg=(json=JSON.parse(xhr.responseText)).message?json.message:errorThrown}catch(e){msg=errorThrown}return(error=new Error(msg)).response=xhr,error.code=xhr.status,error.errorThrown=errorThrown,error}}}),define("ui/pageSizeSelector",["jquery","lodash","i18n","ui/component","handlebars","lib/dompurify/purify","select2"],function($$1,_,__,component,Handlebars,DOMPurify,select2){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){
return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(
Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",self=this,functionType="function",escapeExpression=this.escapeExpression;function program2(depth0,data){return"selected"}return buffer+='<div class="page-size-selector-container">\n    <select class="select2">\n        ',!(stack1=helpers.each.call(depth0,depth0&&depth0.options,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+="\n        <option ",!(
stack1=helpers.if.call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=' value="',stack1=(helper=helpers.value)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.value)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n            ',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"\n        </option>\n        "},data),data:data}))&&0!==stack1||(
buffer+=stack1),buffer+="\n    </select>\n</div>\n"});function pageSizeSelectorTpl(data,options,asString){var html=Template(data,options);return html}var defaults={defaultSize:25,options:[{label:"25 "+__("items per page"),value:25},{label:"50 "+__("items per page"),value:50},{label:"75 "+__("items per page"),value:75},{label:"100 "+__("items per page"),value:100},{label:"200 "+__("items per page"),value:200}]};return function(config){return component({setSelectedOption:function(){var selectedOption,options=this.config.options,defaultSize=this.config.defaultSize;options.forEach(function(option){option.value==defaultSize?(selectedOption=option
).selected=!0:option.selected=!1}),selectedOption||(options[0].selected=!0)}},defaults).setTemplate(pageSizeSelectorTpl).on("init",function(){this.setSelectedOption()}).on("render",function(){var self=this,$component=this.getElement();$$1(".select2",$component).select2({dropdownCssClass:"page-size-dropdown",minimumResultsForSearch:1/0}).on("change",function(e){self.trigger("change",e.val)})}).after("render",function(){var $component=this.getElement();this.trigger("change",$$1("select",$component).val())}).on("destroy",function(){var $component=this.getElement();$$1(".select2",$component).select2("destroy")}).init(config)}}),define(
"css!ui/datatable/css/datatable",[],function(){}),define("ui/datatable",["jquery","lodash","i18n","core/pluginifier","handlebars","lib/dompurify/purify","ui/datatable/filterStrategy/filterStrategy","ui/pagination","layout/loading-bar","core/logger","util/httpErrorParser","ui/pageSizeSelector","css!ui/datatable/css/datatable.css"],function($$1,_,__,Pluginifier,Handlebars,DOMPurify,filterStrategyFactory,paginationComponent,loadingBar,loggerFactory,httpErrorParser,pageSizeSelector,datatable_css){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){
return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment=""
;null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this
):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,
filterStrategyFactory=filterStrategyFactory&&filterStrategyFactory.hasOwnProperty("default")?filterStrategyFactory.default:filterStrategyFactory,paginationComponent=paginationComponent&&paginationComponent.hasOwnProperty("default")?paginationComponent.default:paginationComponent,loadingBar=loadingBar&&loadingBar.hasOwnProperty("default")?loadingBar.default:loadingBar,loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory,httpErrorParser=httpErrorParser&&httpErrorParser.hasOwnProperty("default")?httpErrorParser.default:httpErrorParser,pageSizeSelector=pageSizeSelector&&pageSizeSelector.hasOwnProperty("default"
)?pageSizeSelector.default:pageSizeSelector,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program4(depth0,data){var stack1,helper;return stack1=(helper=helpers.empty)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.empty)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(
stack1)}function program6(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.empty)===functionType?stack1.apply(depth0):stack1)}function program8(depth0,data){var stack1,helper;return stack1=(helper=helpers.available)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.available)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program10(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options
)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.available)===functionType?stack1.apply(depth0):stack1)}function program12(depth0,data){var stack1,helper;return stack1=(helper=helpers.loading)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.loading)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program14(depth0,data,depth2){var stack1;return escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth2&&depth2.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.loading)===functionType?stack1.apply(depth0):stack1)}function program19(depth0,data){
var stack1,buffer="";return buffer+='\n            <button class="btn-info small tool-',!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data}))&&0!==stack1||(buffer+=stack1),!(stack1=helpers.if.call(depth0,depth0&&depth0.massAction,{hash:{},inverse:self.noop,fn:self.program(24,program24,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"\n                ',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='>\n                <span class="icon-',!(
stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.program(30,program30,data),fn:self.program(28,program28,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='"></span>\n                ',!(stack1=helpers.if.call(depth0,depth0&&depth0.label,{hash:{},inverse:self.program(34,program34,data),fn:self.program(32,program32,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </button>\n        "}function program20(depth0,data){var stack1,helper;return stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
escapeExpression(stack1)}function program22(depth0,data){var stack1;return escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)}function program24(depth0,data){return" invisible"}function program26(depth0,data){var stack1,helper,buffer="";return buffer+=' title="',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program28(depth0,data){var stack1,helper;return stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(
helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program30(depth0,data){var stack1;return(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data}))||0===stack1?stack1:""}function program32(depth0,data){var stack1,helper;return stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,escapeExpression(stack1)}function program34(depth0,data){var stack1;return(stack1=helpers.unless.call(depth0,
depth0&&depth0.id,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data}))||0===stack1?stack1:""}function program36(depth0,data){return"\n                <col/>\n                "}function program43(depth0,data){return' class="actions"'}function program45(depth0,data){var stack1,helper,buffer="";return buffer+='\n                                class="sortable"\n                                data-sort-by="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"\n                                ',!(
stack1=helpers.if.call(depth0,depth0&&depth0.sorttype,{hash:{},inverse:self.noop,fn:self.program(46,program46,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n                                tabindex="0"\n                            '}function program46(depth0,data){var stack1,helper,buffer="";return buffer+='data-sort-type="',stack1=(helper=helpers.sorttype)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.sorttype)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"'}function program48(depth0,data){var stack1,helper,buffer=""
;return buffer+='\n                        <aside data-column="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" class="filter column\n                            ',!(stack1=helpers.if.call(depth0,depth0&&depth0.customFilter,{hash:{},inverse:self.program(51,program51,data),fn:self.program(49,program49,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                        </aside>\n                        "}function program49(depth0,data){var stack1,buffer=""
;return buffer+=' customInput" >\n                                ',!(stack1=typeof(stack1=null==(stack1=depth0&&depth0.customFilter)||!1===stack1?stack1:stack1.template)===functionType?stack1.apply(depth0):stack1)&&0!==stack1||(buffer+=stack1),buffer+="\n                            "}function program51(depth0,data){var stack1,helper,buffer="";return buffer+=' ">\n                                <input type="text" value="" name="filter[',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+']" placeholder="'+escapeExpression(typeof(stack1=null==(stack1=depth0&&depth0.filterable)||!1===stack1?stack1:stack1.placeholder)===functionType?stack1.apply(depth0):stack1)+'">\n                                <button class="icon-find" type="button"></button>\n                            '}function program56(depth0,data){var stack1,helper,buffer="";return buffer+='\n                        <td class="checkboxes"><input type="checkbox" name="cb[',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+']" value="1" /></td>\n                        '}function program58(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                            ",!(stack1=helpers.if.call(depth0,depth0&&depth0.type,{hash:{},inverse:self.programWithDepth(73,program73,data,depth1),fn:self.programWithDepth(59,program59,data,depth0,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                        "}function program59(depth0,data,depth1,depth2){var stack1,helper,buffer="";return buffer+='\n                            <td class="actions ',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n                                ',!(stack1=helpers.each.call(depth0,depth1&&depth1.actions,{hash:{},inverse:self.noop,fn:self.programWithDepth(60,program60,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                            </td>\n                            "}function program60(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(70,program70,data),fn:self.programWithDepth(61,program61,data,depth3),data:data}
))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                                "}function program61(depth0,data,depth4){var stack1,buffer="";return buffer+="\n                                        ",!(stack1=helpers.with.call(depth0,depth4,{hash:{},inverse:self.noop,fn:self.programWithDepth(62,program62,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    "}function program62(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                                            ",!(stack1=helpers.unless.call(depth0,depth1&&depth1.hidden,{hash:{},inverse:self.noop,fn:self.programWithDepth(63,program63,data,
depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                        "}function program63(depth0,data,depth2){var stack1,buffer="";return buffer+='\n                                <button class="btn-info small '+escapeExpression(typeof(stack1=depth2&&depth2.id)===functionType?stack1.apply(depth0):stack1)+'"\n                                    ',!(stack1=helpers.if.call(depth0,depth2&&depth2.title,{hash:{},inverse:self.noop,fn:self.programWithDepth(64,program64,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    ",!(stack1=helpers.if.call(depth0,depth2&&depth2.disabled,{
hash:{},inverse:self.noop,fn:self.program(66,program66,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">\n                                    ",!(stack1=helpers.if.call(depth0,depth2&&depth2.icon,{hash:{},inverse:self.noop,fn:self.programWithDepth(68,program68,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    "+escapeExpression(typeof(stack1=depth2&&depth2.label)===functionType?stack1.apply(depth0):stack1)+"\n                                </button>\n                                            "}function program64(depth0,data,depth3){var stack1,buffer=""
;return buffer+=' title="'+escapeExpression(typeof(stack1=depth3&&depth3.title)===functionType?stack1.apply(depth0):stack1)+'"'}function program66(depth0,data){return' disabled="disabled"'}function program68(depth0,data,depth3){var stack1,buffer="";return buffer+='<span class="icon-'+escapeExpression(typeof(stack1=depth3&&depth3.icon)===functionType?stack1.apply(depth0):stack1)+'"></span>'}function program70(depth0,data){var stack1,helper,buffer="";return buffer+='\n                                <button class="btn-info small '+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1
)+'"\n                                    ',!(stack1=helpers.if.call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">\n                                    ",!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(71,program71,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                    ",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1
)+"\n                                </button>\n                                    "}function program71(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span> '}function program73(depth0,data,depth2){var stack1,helper,options,buffer="";return buffer+='\n                            <td class="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{
hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">',options={hash:{},data:data},stack1=(helper=helpers.property||depth0&&depth0.property)?helper.call(depth0,depth0&&depth0.id,depth2,options):helperMissing.call(depth0,"property",depth0&&depth0.id,depth2,options),options={hash:{},data:data},!(stack1=(helper=helpers.dompurify||depth0&&depth0.dompurify)?helper.call(depth0,stack1,options):helperMissing.call(depth0,"dompurify",stack1,options))&&0!==stack1||(buffer+=stack1),buffer+="</td>\n                            "}function program75(depth0,data,depth1){var stack1,buffer=""
;return buffer+='\n                        <td class="actions">\n                            ',!(stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(76,program76,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                        </td>\n                        "}function program76(depth0,data,depth2){var stack1,buffer="";return buffer+="\n                                ",!(stack1=helpers.if.call(depth0,depth0&&depth0.id,{hash:{},inverse:self.program(81,program81,data),fn:self.programWithDepth(77,program77,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                            "}function program77(depth0,data,depth3){var stack1,buffer="";return buffer+="\n                                    ",!(stack1=helpers.with.call(depth0,depth3,{hash:{},inverse:self.noop,fn:self.programWithDepth(78,program78,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                "}function program78(depth0,data,depth1){var stack1,buffer="";return buffer+="\n                                        ",!(stack1=helpers.unless.call(depth0,depth1&&depth1.hidden,{hash:{},inverse:self.noop,fn:self.programWithDepth(79,program79,data,depth1),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                                    "}function program79(depth0,data,depth2){var stack1,buffer="";return buffer+='\n                            <button class="btn-info small '+escapeExpression(typeof(stack1=depth2&&depth2.id)===functionType?stack1.apply(depth0):stack1)+'"\n                                ',!(stack1=helpers.if.call(depth0,depth2&&depth2.title,{hash:{},inverse:self.noop,fn:self.programWithDepth(64,program64,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                ",!(stack1=helpers.if.call(depth0,depth2&&depth2.disabled,{hash:{},inverse:self.noop,fn:self.program(66,program66,data),data:data}
))&&0!==stack1||(buffer+=stack1),buffer+=">\n                                ",!(stack1=helpers.if.call(depth0,depth2&&depth2.icon,{hash:{},inverse:self.noop,fn:self.programWithDepth(68,program68,data,depth2),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                                "+escapeExpression(typeof(stack1=depth2&&depth2.label)===functionType?stack1.apply(depth0):stack1)+"\n                            </button>\n                                        "}function program81(depth0,data){var stack1,buffer="";return buffer+='\n                            <button class="btn-info small '+escapeExpression(typeof(
stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+'"><span class="icon-'+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+'"></span> '+escapeExpression(typeof(stack1=null==data||!1===data?data:data.key)===functionType?stack1.apply(depth0):stack1)+"</button>\n                                "}function program84(depth0,data){var stack1,buffer="";return buffer+='\n                <div class="empty">\n                    '+escapeExpression(typeof(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.emptyText)===functionType?stack1.apply(depth0
):stack1)+"\n                </div>\n            "}return buffer+='<div class="datatable-wrapper">\n\n    ',!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.filter,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,buffer="";return buffer+='\n    <aside class="filter" data-column="'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.filter)||!1===stack1?stack1:stack1.columns)===functionType?stack1.apply(depth0):stack1)+'">\n        <input type="text" value="" name="filter" placeholder="'+escapeExpression(typeof(stack1=null==(
stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.filter)===functionType?stack1.apply(depth0):stack1)+'">\n        <button class="icon-find" type="button"></button>\n    </aside>\n    '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n    <div class="datatable-header">\n        ',!(stack1=helpers.with.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.status,{hash:{},inverse:self.noop,fn:self.programWithDepth(3,function(depth0,data,depth1){var stack1,helper,buffer="";return buffer+='\n        <h2>\n            <span class="empty-list hidden">',!(
stack1=helpers.if.call(depth0,depth0&&depth0.empty,{hash:{},inverse:self.programWithDepth(6,program6,data,depth1),fn:self.program(4,program4,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='</span>\n            <span class="available-list hidden">\n                <span class="text">',!(stack1=helpers.if.call(depth0,depth0&&depth0.available,{hash:{},inverse:self.programWithDepth(10,program10,data,depth1),fn:self.program(8,program8,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='</span>:\n                <span class="count">',stack1=(helper=helpers.count)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.count
)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</span>\n            </span>\n            <span class="loading">',!(stack1=helpers.if.call(depth0,depth0&&depth0.loading,{hash:{},inverse:self.programWithDepth(14,program14,data,depth1),fn:self.program(12,program12,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="...</span>\n        </h2>\n        "},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n        ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.pageSizeSelector,{hash:{},inverse:self.noop,fn:self.program(16,function(depth0,
data){return'\n        <div class="toolbox-container"></div>\n        '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </div>\n\n    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.tools,{hash:{},inverse:self.noop,fn:self.program(18,function(depth0,data){var stack1,buffer="";return buffer+='\n    <aside class="action-bar clearfix">\n        ',!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.tools,{hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n    </aside>\n    "},data),
data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n    <div class="datatable-pagination-top"></div>\n\n    <div class="datatable-container">\n        <table class="matrix datatable">\n            <colgroup>\n                ',!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.selectable,{hash:{},inverse:self.noop,fn:self.program(36,program36,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.program(36,program36,data),data:data})
)&&0!==stack1||(buffer+=stack1),buffer+="\n                ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.program(38,function(depth0,data){return"\n                </col>\n                "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </colgroup>\n            <thead>\n                <tr>\n                    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.selectable,{hash:{},inverse:self.noop,fn:self.program(40,function(depth0,data){
return'\n                    <th class="checkboxes"><input type="checkbox" name="checkall" value="1" /></th>\n                    '},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.program(42,function(depth0,data){var stack1,helper,buffer="";return buffer+="\n                    <th",!(stack1=helpers.if.call(depth0,depth0&&depth0.type,{hash:{},inverse:self.noop,fn:self.program(43,program43,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+=">\n                        <div\n                            ",!(stack1=helpers.if.call(depth0,depth0&&depth0.sortable,{hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+=">",stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</div>\n                        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.filterable,{hash:{},inverse:self.noop,fn:self.program(48,program48,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n                    </th>\n                    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.program(53,function(depth0,data){var stack1,buffer="";return buffer+='\n                    <th class="actions">'+escapeExpression(typeof(stack1=null==(stack1=null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.labels)||!1===stack1?stack1:stack1.actions)===functionType?stack1.apply(depth0):stack1)+"</th>\n                    "},data),data:data}))&&0!==stack1||(
buffer+=stack1),buffer+="\n                </tr>\n            </thead>\n            <tbody>\n                ",!(stack1=helpers.each.call(depth0,null==(stack1=depth0&&depth0.dataset)||!1===stack1?stack1:stack1.data,{hash:{},inverse:self.noop,fn:self.programWithDepth(55,function(depth0,data,depth1){var stack1,helper,buffer="";return buffer+='\n                    <tr data-item-identifier="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n                        ',!(stack1=helpers.if.call(depth0,null==(
stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.selectable,{hash:{},inverse:self.noop,fn:self.program(56,program56,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                        ",!(stack1=helpers.each.call(depth0,null==(stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.model,{hash:{},inverse:self.noop,fn:self.programWithDepth(58,program58,data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n\n                        ",!(stack1=helpers.with.call(depth0,null==(stack1=depth1&&depth1.options)||!1===stack1?stack1:stack1.actions,{hash:{},inverse:self.noop,fn:self.programWithDepth(75,program75,data,depth0),
data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n                    </tr>\n                "},data,depth0),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </tbody>\n        </table>\n        ",!(stack1=helpers.unless.call(depth0,null==(stack1=depth0&&depth0.dataset)||!1===stack1?stack1:stack1.data,{hash:{},inverse:self.noop,fn:self.program(83,function(depth0,data){var stack1,buffer="";return buffer+="\n            ",!(stack1=helpers.if.call(depth0,null==(stack1=depth0&&depth0.options)||!1===stack1?stack1:stack1.emptyText,{hash:{},inverse:self.noop,fn:self.program(84,program84,data),data:data}))&&0!==stack1||(buffer+=stack1),
buffer+="\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n    </div>\n    <div class="datatable-pagination-bottom"></div>\n</div>\n'});var ns="datatable",dataNs="ui."+ns,defaults={start:0,rows:25,page:1,sortby:"id",sortorder:"asc",sorttype:"string",paginationStrategyTop:"none",paginationStrategyBottom:"simple",labels:{filter:__("Filter"),empty:__("Nothing to list!"),available:__("Available"),loading:__("Loading"),actions:__("Actions")},pageSizeSelector:!1},logger=loggerFactory("ui/datatable"),disablePaginations=function(paginations){paginations&&paginations.length&&_.forEach(paginations,function(pagination){pagination.disable()})},
enablePaginations=function(paginations){paginations&&paginations.length&&_.forEach(paginations,function(pagination){pagination.enable()})},dataTable={init:function(options,data){return options=_.defaults(options,defaults),this.each(function(){var $elt=$$1(this),currentOptions=$elt.data(dataNs);$elt.paginations=[],currentOptions?(options&&$elt.data(dataNs,_.merge(currentOptions,options)),dataTable._refresh($elt,data)):($elt.data(dataNs,options),$elt.one("load."+ns,function(){$elt.trigger("create."+ns)}),data?dataTable._render($elt,data):dataTable._query($elt))})},_refresh:function($elt,data){data?this._render($elt,data):this._query($elt)},_query:function($elt
,$filter){var parameters,ajaxConfig,self=this,options=$elt.data(dataNs);loadingBar.start(),$filter=$filter||$$1(".filter",$elt),options=_.assign({},options,this._getFilterStrategy($elt).getQueryData($elt,$filter,options)),parameters=_.merge({},_.pick(options,["rows","page","sortby","sortorder","sorttype","filterquery","filtercolumns"]),options.params||{}),ajaxConfig={url:options.url,data:parameters,dataType:"json",type:options.querytype||"GET"},disablePaginations($elt.paginations),$elt.trigger("query."+ns,[ajaxConfig]),options.status&&$elt.find(".loading").removeClass("hidden"),$$1.ajax(ajaxConfig).done(function(response){self._render($elt,response)}).fail(
function(response,option,err){var requestErr=httpErrorParser.parse(response,option,err);logger.error(requestErr.message),requestErr.code=response.status,enablePaginations(this.paginations),$elt.trigger("error."+ns,[requestErr]),self._render($elt,{})})},_render:function($elt,dataset){var $rendering,$statusEmpty,$statusAvailable,$statusCount,$sortBy,$sortElement,$checkAll,$checkboxes,$rows,amount,transforms,self=this,options=_.cloneDeep($elt.data(dataNs)),$massActionBtns=$$1(),model=[],join=function(input){return"object"!==_typeof(input)?input:input.join(", ")};dataset=dataset||{},$elt.trigger("beforeload."+ns,[_.cloneDeep(dataset)]),_.forEach(options.model,
function(field,key){options.filter||(field.filterable=!1),_.isUndefined(field.order)&&(field.order=key+1),field.filterable&&"object"!==_typeof(field.filterable)&&(field.filterable={placeholder:__("Filter")}),field.transform&&(field.transform=_.isFunction(field.transform)?field.transform:join),void 0===field.visible?model.push(field):"function"==typeof field.visible&&field.visible()?model.push(field):!0===field.visible&&model.push(field)}),model.sort(function(a,b){return a.order-b.order}),options.sortby&&(options=this._sortOptions($elt,options.sortby,options.sortorder,options.sorttype)),_.some(options.model,"transform")&&(transforms=_.where(options.model,
"transform"),_.forEach(dataset.data,function(row,index){_.forEach(transforms,function(field){row[field.id]=field.transform(row[field.id],row,field,index,dataset.data)})})),options.model=model,$rendering=$$1(function(data,options){var html=Template(data,options);return html}({options:options,dataset:dataset})),_.forEach(dataset.readonly,function(values,id){if(!0===values)$$1('[data-item-identifier="'+id+'"] button',$rendering).addClass("disabled");else if(values&&"object"===_typeof(values))for(var action in values)values.hasOwnProperty(action)&&!0===values[action]&&$$1('[data-item-identifier="'+id+'"] button.'+action,$rendering).addClass("disabled")})
;var attachActionListeners=function(actions){_.forEach(actions,function(action,name){var css;_.isFunction(action)||(name=action.id||name,action=action.action||function(){}),css="."+name,$rendering.off("click",css).on("click",css,function(e){var $btn=$$1(this);if(e.preventDefault(),!$btn.hasClass("disabled")){var identifier=$btn.closest("[data-item-identifier]").data("item-identifier");action.apply($btn,[identifier,_.first(_.where(dataset.data,{id:identifier}))])}})})};if(options.actions&&attachActionListeners(options.actions),_.some(options.model,"type")){var types=_.where(options.model,"type");_.forEach(types,function(field){
"actions"===field.type&&field.actions&&attachActionListeners(field.actions)})}function renderPagination($container,mode){return paginationComponent({mode:mode,activePage:dataset.page,totalPages:dataset.total}).on("change",function(){self._setPage($elt,this.getActivePage())}).on("prev",function(){$elt.trigger("backward."+ns)}).on("next",function(){$elt.trigger("forward."+ns)}).render($container)}_.forEach(options.tools,function(action,name){var css,massAction=!0;_.isFunction(action)||(name=action.id||name,massAction=action.massAction,action=action.action||function(){}),css=".tool-"+name,massAction&&($massActionBtns=$massActionBtns.add($rendering.find(css))),
$rendering.off("click",css).on("click",css,function(e){var $btn=$$1(this);e.preventDefault(),$btn.hasClass("disabled")||action.apply($btn,[self._selection($elt)])})}),_.forEach(options.listeners,function(callback,event){var ev=[event,ns].join(".");$elt.off(ev).on(ev,callback)}),$elt.paginations=[],"none"!==options.paginationStrategyTop&&$elt.paginations.push(renderPagination($$1(".datatable-pagination-top",$rendering),options.paginationStrategyTop)),"none"!==options.paginationStrategyBottom&&$elt.paginations.push(renderPagination($$1(".datatable-pagination-bottom",$rendering),options.paginationStrategyBottom)),disablePaginations($elt.paginations),
$rows=$rendering.find("tbody tr"),$sortBy=$rendering.find("th [data-sort-by]"),$sortElement=$rendering.find('[data-sort-by="'+options.sortby+'"]'),$checkAll=$rendering.find("th.checkboxes input"),$checkboxes=$rendering.find("td.checkboxes input"),options.rowSelection&&($$1("table.datatable",$rendering).addClass("hoverable"),$rendering.on("click","tbody td",function(e){if($$1(e.target).hasClass("checkboxes")||$$1(e.target).hasClass("actions"))return!1;var currentRow=$$1(this).parent();$rows.removeClass("selected"),currentRow.toggleClass("selected"),$elt.trigger("selected."+ns,_.where(dataset.data,{id:currentRow.data("item-identifier")}))})),$sortBy.on(
"click keyup",function(e){var column,type;"keyup"===e.type&&13!==e.keyCode||(e.preventDefault(),column=$$1(this).data("sort-by"),type=$$1(this).data("sort-type"),self._sort($elt,column,void 0,type))}),options.filter&&(self._getFilterStrategy($elt).render($rendering,options),_.forEach($$1(".filter",$rendering),function(filter){var $filter=$$1(filter),$filterBtn=$$1("button",$filter),$filterInput=$$1("select, input",$filter);$filterInput.is("select")?$filterInput.on("change",function(){self._filter($elt,$filter)}):($filterBtn.off("click").on("click",function(e){e.preventDefault(),self._filter($elt,$filter)}),$filterInput.off("keypress").on("keypress",function(
e){13===e.which&&(e.preventDefault(),self._filter($elt,$filter))}))})),$checkAll.click(function(){this.checked?($checkAll.prop("checked",!0),$checkboxes.prop("checked",!0)):($checkAll.prop("checked",!1),$checkboxes.prop("checked",!1)),$massActionBtns.length&&$massActionBtns.toggleClass("invisible",!$checkboxes.filter(":checked").length),$elt.trigger("select."+ns)}),$checkboxes.click(function(){$checkboxes.filter(":checked").length===$checkboxes.length?$checkAll.prop("checked",!0):$checkAll.prop("checked",!1),$massActionBtns.length&&$massActionBtns.toggleClass("invisible",!$checkboxes.filter(":checked").length),$elt.trigger("select."+ns)}),$$1("th.sorted",
$rendering).removeClass("sorted"),$sortElement.addClass("sorted").addClass("sorted_"+options.sortorder),options.status&&($statusEmpty=$rendering.find(".empty-list"),$statusCount=($statusAvailable=$rendering.find(".available-list")).find(".count"),$rendering.find(".loading").addClass("hidden"),(amount=dataset.amount||dataset.length)?($statusCount.text(amount),$statusAvailable.removeClass("hidden"),$statusEmpty.addClass("hidden")):($statusEmpty.removeClass("hidden"),$statusAvailable.addClass("hidden"))),$elt.html($rendering),options.filter&&options.filterquery&&$rendering.find("[name=filter].focused").focus(),enablePaginations($elt.paginations),
options.pageSizeSelector&&pageSizeSelector({renderTo:$$1(".toolbox-container",$rendering),defaultSize:options.rows}).on("change",function(val){self._setRows($elt,val)}),loadingBar.stop(),$elt.trigger("load."+ns,[dataset])},_setPage:function($elt,page){var options=$elt.data(dataNs);options.page!==page&&(options.page=page,$elt.data(dataNs,options),$elt.trigger("setpage."+ns),this._query($elt))},_filter:function($elt,$filter){var options=$elt.data(dataNs),filtersData=this._getFilterStrategy($elt).getFiltersData($elt,$filter,options);options.page=1,$elt.data(dataNs,_.assign(options,filtersData)),$elt.trigger("filter."+ns,[options]),this._query($elt,$filter)},
_getFilterStrategy:function($elt){var options=$elt.data(dataNs);return filterStrategyFactory(options)},_sort:function($elt,sortBy,asc,sortType){var options=this._sortOptions($elt,sortBy,asc,sortType);$elt.trigger("sort."+ns,[options.sortby,options.sortorder,options.sorttype]),this._query($elt)},_sortOptions:function($elt,sortBy,asc,sortType){var options=$elt.data(dataNs);return void 0!==asc?("asc"!==asc&&"desc"!==asc&&(asc=asc?"asc":"desc"),options.sortorder=asc):"asc"===options.sortorder&&options.sortby===sortBy?options.sortorder="desc":options.sortorder="asc",options.sortby=sortBy,options.sorttype=sortType,$elt.data(dataNs,options),_.cloneDeep(options)},
_selection:function($elt){var $selected=$elt.find("[data-item-identifier]").has("td.checkboxes input:checked"),selection=[];return $selected.each(function(){selection.push($$1(this).data("item-identifier"))}),selection},_highlightRow:function($elt,rowId){this._addRowClass($elt,rowId,"highlight")},_addRowClass:function($elt,rowId,className){var $row=$elt.find('[data-item-identifier="'+rowId+'"]');$row.hasClass(className)||$row.addClass(className)},_removeRowClass:function($elt,rowId,className){var $row=$elt.find('[data-item-identifier="'+rowId+'"]');$row.hasClass(className)&&$row.removeClass(className)},_setRows:function($elt,rows){var options=$elt.data(
dataNs);options.rows!==rows&&(options.rows=rows,options.page=1,$elt.data(dataNs,options),$elt.trigger("setpage."+ns),this._query($elt))}};Pluginifier.register(ns,dataTable,{expose:["refresh","sort","filter","selection","render","highlightRow","addRowClass","removeRowClass"]})}),define("taoSync/component/synchronization/list",["jquery","i18n","lodash","uri","core/promise","ui/component","tpl!taoSync/component/synchronization/list","ui/datatable"],function($,__,_,uri,Promise,component,listTpl){"use strict";return function(config){var syncHistoryList;if(!_.isPlainObject(config))throw new TypeError("The configuration is required");if(!_.isPlainObject(
config.model)&&!_.isArray(config.model))throw new TypeError("The data model is required");return(syncHistoryList=component({})).on("render",function(){this.getElement().datatable({sortby:config.sortby,sortorder:config.sortorder,url:config.dataUrl,model:config.model,actions:config.actions})}).setTemplate(listTpl),syncHistoryList.init()}}),define("taoSync/controller/SynchronizationHistory/index",["jquery","lodash","i18n","module","core/logger","util/url","layout/actions/binder","layout/loading-bar","ui/feedback","tpl!taoSync/component/synchronization/detailedReport","taoSync/component/synchronization/list"],function($,_,__,module,loggerFactory,urlHelper,binder
,loadingBar,feedback,layout,syncHistoryListFactory){"use strict";var $table,logger=loggerFactory("controller/SynchronizationHistory/index");function reportError(err){loadingBar.stop(),logger.error(err),err instanceof Error&&feedback().error(err.message)}function viewReport(rowId){loadingBar.start(),$.ajax({url:urlHelper.route("viewReport","SynchronizationHistory","taoSync",{id:rowId}),type:"GET",success:function(result){"object"==typeof result&&null!==result&&Object.keys(result).forEach(function(key){"object"==typeof result[key]&&result[key],result[key]=JSON.stringify(result[key],null,1)});var $container=$(layout({data:result}));$("#sync-history").append(
$container),$container.modal({startClosed:!0,minWidth:450}),$container.modal("open"),loadingBar.stop()},error:function(xhr,err){var message=getRequestErrorMessage(xhr);feedback().error(message,{encodeHtml:!1}),loadingBar.stop()}})}return{start:function(){var config=module.config()||{},actions={view:{action:viewReport,id:"view",label:__("View"),title:__("Detail view"),icon:"view"}},model=config.dataModel;model.data.transform=function(value,row){return value.replace(/\n/g,"<br />")};var listConfig={sortby:"created_at",sortorder:"desc",dataUrl:urlHelper.route("getHistory","SynchronizationHistory","taoSync",{}),model:model,actions:actions};($table=$(
"#sync-history")).length?(loadingBar.start(),syncHistoryListFactory(listConfig,actions).on("error",reportError).on("success",function(message){feedback().success(message)}).before("loading",function(){loadingBar.start()}).after("loaded",function(){loadingBar.stop()}).render($(".sync-history-grid",$table))):loadingBar.stop()}}}),define("core/promiseQueue",["lodash","core/promise","core/eventifier","lib/uuid"],function(_,Promise,eventifier,uuid){"use strict";return _=_&&_.hasOwnProperty("default")?_.default:_,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,eventifier=eventifier&&eventifier.hasOwnProperty("default"
)?eventifier.default:eventifier,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid,function(){function getId(){var id="promise-"+uuid(6);return void 0===queue[id]?id:getId()}var queue={};return{add:function(promise){return queue[getId()]=promise,this},getValues:function(){return _.values(queue)},clear:function(){return queue={},this},serie:function(promiseFn){var id=getId(),currentQueue=this.getValues(),emitter=eventifier();return queue[id]=new Promise(function(resolve){emitter.on("fulfilled",resolve)}),Promise.all(currentQueue).then(function(){if(_.isFunction(promiseFn))return promiseFn()}).then(function(data){return emitter.trigger("fulfilled"),
delete queue[id],data}).catch(function(err){throw queue={},err})}}}}),define("core/store/webstorage",["lodash","core/promiseQueue","lib/uuid"],function(_,promiseQueue,uuid){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,promiseQueue=promiseQueue&&promiseQueue.hasOwnProperty("default")?promiseQueue.default:promiseQueue,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid;return function(storage){var writingQueue=promiseQueue(),setEntry=function(storeName,key,value){return new Promise(function(resolve,reject){try{storage.setItem("".concat("tao-store-"+storeName,".").concat(key),JSON.stringify(value)),resolve(!0)}catch(ex){reject(ex)}})},
getEntry=function(storeName,key){return new Promise(function(resolve,reject){var value;try{null===(value=storage.getItem("".concat("tao-store-"+storeName,".").concat(key)))?resolve():resolve(JSON.parse(value))}catch(ex){reject(ex)}})},getKnownStores=function(){return getEntry("index","stores")},webStorageBackend=function(storeName){var name,registered=!1,openStore=function(){return registered?Promise.resolve():function(storeName){return getKnownStores().then(function(stores){return(stores=stores||{})[storeName]={name:storeName,lastOpen:Date.now()},setEntry("index","stores",stores)})}(storeName).then(function(){registered=!0})};if(_.isEmpty(storeName
)||!_.isString(storeName))throw new TypeError("The store name is required");return name="".concat("tao-store-"+storeName,"."),{getItem:function(key){return writingQueue.serie(function(){return openStore().then(function(){return getEntry(storeName,key)})})},setItem:function(key,value){return writingQueue.serie(function(){return openStore().then(function(){return setEntry(storeName,key,value)})})},removeItem:function(key){return writingQueue.serie(function(){return openStore().then(function(){return storage.removeItem(name+key),!0})})},getItems:function(){var keyPattern=new RegExp("^".concat(name));return writingQueue.serie(function(){return openStore().then(
function(){return _(storage).map(function(entry,index){return storage.key(index)}).filter(function(key){return keyPattern.test(key)}).reduce(function(acc,key){var value,exposedKey=key.replace(name,"");try{null!==(value=storage.getItem(key))&&(acc[exposedKey]=JSON.parse(value))}catch(ex){acc[exposedKey]=null}return acc},{})})})},clear:function(){var keyPattern=new RegExp("^".concat(name));return writingQueue.serie(function(){return openStore().then(function(){return _(storage).map(function(entry,index){return storage.key(index)}).filter(function(key){return keyPattern.test(key)}).forEach(function(key){storage.removeItem(key)}),!0})})},removeStore:function(){
return this.clear().then(function(){return function(storeName){return getKnownStores().then(function(stores){return delete(stores=stores||{})[storeName],setEntry("index","stores",stores)})}(storeName)})}}};return webStorageBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),getKnownStores().then(function(stores){var removing=_(stores).filter(function(store,storeName){return!validate||validate(storeName,store)}).map(function(store){return store&&store.name?webStorageBackend(store.name).removeStore():Promise.resolve()}).value();return Promise.all(removing)})},webStorageBackend.getAll=function(validate){return getKnownStores(
).then(function(stores){return _(stores).filter(function(store,storeName){return!validate||validate(storeName,store)}).map(function(store){return store.name}).value()})},webStorageBackend.getStoreIdentifier=function(){var idStore=webStorageBackend("id");return idStore.getItem("id").then(function(id){return _.isEmpty(id)?(id=uuid(),idStore.setItem("id",id).then(function(){return id})):id})},webStorageBackend}}),define("core/store/localstorage",["core/store/webstorage"],function(webstorageFactory){"use strict";return(webstorageFactory=webstorageFactory&&webstorageFactory.hasOwnProperty("default")?webstorageFactory.default:webstorageFactory)(window.localStorage
)}),define("core/store/sessionstorage",["core/store/webstorage"],function(webstorageFactory){"use strict";return(webstorageFactory=webstorageFactory&&webstorageFactory.hasOwnProperty("default")?webstorageFactory.default:webstorageFactory)(window.sessionStorage)}),define("core/store/indexeddb",["lodash","core/promise","lib/uuid"],function(_,Promise,uuid){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}_=_&&_.hasOwnProperty("default"
)?_.default:_,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid;var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var module,knownStores,idbstore=(function(module){var definition,global;definition=function(){var defaultErrorHandler=function(error){throw error},defaultSuccessHandler=function(){},defaults={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:defaultErrorHandler,indexes:[],
implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},IDBStore=function(kwArgs,onStoreReady){for(var key in void 0===onStoreReady&&"function"==typeof kwArgs&&(onStoreReady=kwArgs),"[object Object]"!=Object.prototype.toString.call(kwArgs)&&(kwArgs={}),defaults)this[key]=void 0!==kwArgs[key]?kwArgs[key]:defaults[key];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,onStoreReady&&(this.onStoreReady=onStoreReady);var env="object"==("undefined"==typeof window?"undefined":_typeof(window))?window:self,availableImplementations=this.implementationPreference.filter(function(implName){
return implName in env});this.implementation=availableImplementations[0],this.idb=env[this.implementation],this.keyRange=env.IDBKeyRange||env.webkitIDBKeyRange||env.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},proto={constructor:IDBStore,version:"1.7.0",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){
var openRequest=this.idb.open(this.dbName,this.dbVersion),preventSuccessCallback=!1;openRequest.onerror=function(error){var gotVersionErr=!1;"error"in error.target?gotVersionErr="VersionError"==error.target.error.name:"errorCode"in error.target&&(gotVersionErr=12==error.target.errorCode),gotVersionErr?this.onError(new Error("The version number provided is lower than the existing one.")):this.onError(error)}.bind(this),openRequest.onsuccess=function(event){if(!preventSuccessCallback)if(this.db)this.onStoreReady();else if(this.db=event.target.result,"string"!=typeof this.db.version)if(this.db.objectStoreNames.contains(this.storeName)){
var emptyTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=emptyTransaction.objectStore(this.storeName);var existingIndexes=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(indexData){var indexName=indexData.name;if(!indexName)return preventSuccessCallback=!0,void this.onError(new Error("Cannot create index: No index name given."));if(this.normalizeIndexData(indexData),this.hasIndex(indexName)){var actualIndex=this.store.index(indexName);this.indexComplies(actualIndex,indexData)||(preventSuccessCallback=!0,this.onError(new Error(
'Cannot modify index "'+indexName+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),existingIndexes.splice(existingIndexes.indexOf(indexName),1)}else preventSuccessCallback=!0,this.onError(new Error('Cannot create new index "'+indexName+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),existingIndexes.length&&(preventSuccessCallback=!0,this.onError(new Error('Cannot delete index(es) "'+existingIndexes.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),preventSuccessCallback||this.onStoreReady()}else this.onError(new Error(
"Object store couldn't be created."));else this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."))}.bind(this),openRequest.onupgradeneeded=function(event){if(this.db=event.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=event.target.transaction.objectStore(this.storeName);else{var optionalParameters={autoIncrement:this.autoIncrement};null!==this.keyPath&&(optionalParameters.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,optionalParameters)}var existingIndexes=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(indexData){
var indexName=indexData.name;if(indexName||(preventSuccessCallback=!0,this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(indexData),this.hasIndex(indexName)){var actualIndex=this.store.index(indexName);this.indexComplies(actualIndex,indexData)||(this.store.deleteIndex(indexName),this.store.createIndex(indexName,indexData.keyPath,{unique:indexData.unique,multiEntry:indexData.multiEntry})),existingIndexes.splice(existingIndexes.indexOf(indexName),1)}else this.store.createIndex(indexName,indexData.keyPath,{unique:indexData.unique,multiEntry:indexData.multiEntry})},this),existingIndexes.length&&existingIndexes.forEach(
function(_indexName){this.store.deleteIndex(_indexName)},this)}.bind(this)},deleteDatabase:function(onSuccess,onError){if(this.idb.deleteDatabase){this.db.close();var deleteRequest=this.idb.deleteDatabase(this.dbName);deleteRequest.onsuccess=onSuccess,deleteRequest.onerror=onError}else onError(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(key,value,onSuccess,onError){null!==this.keyPath&&(onError=onSuccess,onSuccess=value,value=key),onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler;var putRequest,hasSuccess=!1,result=null,putTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE)
;return putTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},putTransaction.onabort=onError,putTransaction.onerror=onError,(putRequest=null!==this.keyPath?(this._addIdPropertyIfNeeded(value),putTransaction.objectStore(this.storeName).put(value)):putTransaction.objectStore(this.storeName).put(value,key)).onsuccess=function(event){hasSuccess=!0,result=event.target.result},putRequest.onerror=onError,putTransaction},get:function(key,onSuccess,onError){onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler;var hasSuccess=!1,result=null,getTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY)
;getTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},getTransaction.onabort=onError,getTransaction.onerror=onError;var getRequest=getTransaction.objectStore(this.storeName).get(key);return getRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},getRequest.onerror=onError,getTransaction},remove:function(key,onSuccess,onError){onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler;var hasSuccess=!1,result=null,removeTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);removeTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},
removeTransaction.onabort=onError,removeTransaction.onerror=onError;var deleteRequest=removeTransaction.objectStore(this.storeName).delete(key);return deleteRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},deleteRequest.onerror=onError,removeTransaction},batch:function(dataArray,onSuccess,onError){if(onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler,"[object Array]"!=Object.prototype.toString.call(dataArray))onError(new Error("dataArray argument must be of type Array."));else if(0===dataArray.length)return onSuccess(!0);var count=dataArray.length,called=!1,hasSuccess=!1,
batchTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);batchTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(hasSuccess)},batchTransaction.onabort=onError,batchTransaction.onerror=onError;var onItemSuccess=function(){0!==--count||called||(hasSuccess=called=!0)};return dataArray.forEach(function(operation){var type=operation.type,key=operation.key,value=operation.value,onItemError=function(err){batchTransaction.abort(),called||(called=!0,onError(err,type,key))};if("remove"==type){var deleteRequest=batchTransaction.objectStore(this.storeName).delete(key);deleteRequest.onsuccess=onItemSuccess,
deleteRequest.onerror=onItemError}else if("put"==type){var putRequest;(putRequest=null!==this.keyPath?(this._addIdPropertyIfNeeded(value),batchTransaction.objectStore(this.storeName).put(value)):batchTransaction.objectStore(this.storeName).put(value,key)).onsuccess=onItemSuccess,putRequest.onerror=onItemError}},this),batchTransaction},putBatch:function(dataArray,onSuccess,onError){var batchData=dataArray.map(function(item){return{type:"put",value:item}});return this.batch(batchData,onSuccess,onError)},upsertBatch:function(dataArray,options,onSuccess,onError){"function"==typeof options&&(onError=onSuccess=options,options={}),
onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler,options=options||{},"[object Array]"!=Object.prototype.toString.call(dataArray)&&onError(new Error("dataArray argument must be of type Array."));var keyField=options.keyField||this.keyPath,count=dataArray.length,called=!1,hasSuccess=!1,index=0,batchTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);batchTransaction.oncomplete=function(){hasSuccess?onSuccess(dataArray):onError(!1)},batchTransaction.onabort=onError,batchTransaction.onerror=onError;var onItemSuccess=function(event){dataArray[index++][keyField]=event.target.result,0!==--count||called||(
hasSuccess=called=!0)};return dataArray.forEach(function(record){var putRequest,key=record.key;(putRequest=null!==this.keyPath?(this._addIdPropertyIfNeeded(record),batchTransaction.objectStore(this.storeName).put(record)):batchTransaction.objectStore(this.storeName).put(record,key)).onsuccess=onItemSuccess,putRequest.onerror=function(err){batchTransaction.abort(),called||(called=!0,onError(err))}},this),batchTransaction},removeBatch:function(keyArray,onSuccess,onError){var batchData=keyArray.map(function(key){return{type:"remove",key:key}});return this.batch(batchData,onSuccess,onError)},getBatch:function(keyArray,onSuccess,onError,arrayType){if(
onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler,arrayType=arrayType||"sparse","[object Array]"!=Object.prototype.toString.call(keyArray))onError(new Error("keyArray argument must be of type Array."));else if(0===keyArray.length)return onSuccess([]);var data=[],count=keyArray.length,hasSuccess=!1,result=null,batchTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);batchTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},batchTransaction.onabort=onError,batchTransaction.onerror=onError;var onItemSuccess=function(event){event.target.result||"dense"==arrayType?data.push(event.target.result
):"sparse"==arrayType&&data.length++,0===--count&&(hasSuccess=!0,result=data)};return keyArray.forEach(function(key){var getRequest=batchTransaction.objectStore(this.storeName).get(key);getRequest.onsuccess=onItemSuccess,getRequest.onerror=function(err){onError(result=err),batchTransaction.abort()}},this),batchTransaction},getAll:function(onSuccess,onError){onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler;var getAllTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY),store=getAllTransaction.objectStore(this.storeName);return store.getAll?this._getAllNative(getAllTransaction,store,onSuccess,onError
):this._getAllCursor(getAllTransaction,store,onSuccess,onError),getAllTransaction},_getAllNative:function(getAllTransaction,store,onSuccess,onError){var hasSuccess=!1,result=null;getAllTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},getAllTransaction.onabort=onError,getAllTransaction.onerror=onError;var getAllRequest=store.getAll();getAllRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},getAllRequest.onerror=onError},_getAllCursor:function(getAllTransaction,store,onSuccess,onError){var all=[],hasSuccess=!1,result=null;getAllTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},
getAllTransaction.onabort=onError,getAllTransaction.onerror=onError;var cursorRequest=store.openCursor();cursorRequest.onsuccess=function(event){var cursor=event.target.result;cursor?(all.push(cursor.value),cursor.continue()):(hasSuccess=!0,result=all)},cursorRequest.onError=onError},clear:function(onSuccess,onError){onError=onError||defaultErrorHandler,onSuccess=onSuccess||defaultSuccessHandler;var hasSuccess=!1,result=null,clearTransaction=this.db.transaction([this.storeName],this.consts.READ_WRITE);clearTransaction.oncomplete=function(){(hasSuccess?onSuccess:onError)(result)},clearTransaction.onabort=onError,clearTransaction.onerror=onError
;var clearRequest=clearTransaction.objectStore(this.storeName).clear();return clearRequest.onsuccess=function(event){hasSuccess=!0,result=event.target.result},clearRequest.onerror=onError,clearTransaction},_addIdPropertyIfNeeded:function(dataObj){void 0===dataObj[this.keyPath]&&(dataObj[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},hasIndex:function(indexName){return this.store.indexNames.contains(indexName)},normalizeIndexData:function(indexData){indexData.keyPath=indexData.keyPath||indexData.name,indexData.unique=!!indexData.unique,indexData.multiEntry=!!indexData.multiEntry},indexComplies:function(
actual,expected){return["keyPath","unique","multiEntry"].every(function(key){if("multiEntry"==key&&void 0===actual[key]&&!1===expected[key])return!0;if("keyPath"!=key||"[object Array]"!=Object.prototype.toString.call(expected[key]))return expected[key]==actual[key];var exp=expected.keyPath,act=actual.keyPath;if("string"==typeof act)return exp.toString()==act;if("function"!=typeof act.contains&&"function"!=typeof act.indexOf)return!1;if(act.length!==exp.length)return!1;for(var i=0,m=exp.length;i<m;i++)if(!(act.contains&&act.contains(exp[i])||act.indexOf(-1!==exp[i])))return!1;return!0})},iterate:function(onItem,options){var directionType="desc"==(
options=mixin({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:defaultErrorHandler,limit:1/0,offset:0,allowItemRejection:!1},options||{})).order.toLowerCase()?"PREV":"NEXT";options.filterDuplicates&&(directionType+="_NO_DUPLICATE");var hasSuccess=!1,cursorTransaction=this.db.transaction([this.storeName],this.consts[options.writeAccess?"READ_WRITE":"READ_ONLY"]),cursorTarget=cursorTransaction.objectStore(this.storeName);options.index&&(cursorTarget=cursorTarget.index(options.index));var recordCount=0;cursorTransaction.oncomplete=function(){hasSuccess?options.onEnd?options.onEnd():onItem(null
):options.onError(null)},cursorTransaction.onabort=options.onError,cursorTransaction.onerror=options.onError;var cursorRequest=cursorTarget.openCursor(options.keyRange,this.consts[directionType]);return cursorRequest.onerror=options.onError,cursorRequest.onsuccess=function(event){var cursor=event.target.result;if(cursor)if(options.offset)cursor.advance(options.offset),options.offset=0;else{var onItemReturn=onItem(cursor.value,cursor,cursorTransaction);options.allowItemRejection&&!1===onItemReturn||recordCount++,options.autoContinue&&(recordCount+options.offset<options.limit?cursor.continue():hasSuccess=!0)}else hasSuccess=!0},cursorTransaction},
query:function(onSuccess,options){var result=[],processedItems=0;return(options=options||{}).autoContinue=!0,options.writeAccess=!1,options.allowItemRejection=!!options.filter,options.onEnd=function(){onSuccess(result,processedItems)},this.iterate(function(item){processedItems++;var accept=!options.filter||options.filter(item);return!1!==accept&&result.push(item),accept},options)},count:function(onSuccess,options){var onError=(options=mixin({index:null,keyRange:null},options||{})).onError||defaultErrorHandler,hasSuccess=!1,result=null,cursorTransaction=this.db.transaction([this.storeName],this.consts.READ_ONLY);cursorTransaction.oncomplete=function(){(
hasSuccess?onSuccess:onError)(result)},cursorTransaction.onabort=onError,cursorTransaction.onerror=onError;var cursorTarget=cursorTransaction.objectStore(this.storeName);options.index&&(cursorTarget=cursorTarget.index(options.index));var countRequest=cursorTarget.count(options.keyRange);return countRequest.onsuccess=function(evt){hasSuccess=!0,result=evt.target.result},countRequest.onError=onError,cursorTransaction},makeKeyRange:function(options){var keyRange,hasLower=void 0!==options.lower,hasUpper=void 0!==options.upper;switch(!0){case void 0!==options.only:keyRange=this.keyRange.only(options.only);break;case hasLower&&hasUpper:
keyRange=this.keyRange.bound(options.lower,options.upper,options.excludeLower,options.excludeUpper);break;case hasLower:keyRange=this.keyRange.lowerBound(options.lower,options.excludeLower);break;case hasUpper:keyRange=this.keyRange.upperBound(options.upper,options.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return keyRange}},empty={};function mixin(target,source){var name,s;for(name in source)(s=source[name])!==empty[name]&&s!==target[name]&&(target[name]=s);return target}return IDBStore.prototype=proto,IDBStore.version=proto.version,IDBStore},
global=commonjsGlobal,module.exports?module.exports=definition():global.IDBStore=definition()}(module={exports:{}},module.exports),module.exports),isIndexedDB2="undefined"!=typeof IDBObjectStore&&"getAll"in IDBObjectStore.prototype,openStore=function(storeName){return new Promise(function(resolve,reject){var store=new idbstore({dbVersion:1,storeName:storeName,storePrefix:"tao-store-",keyPath:"key",autoIncrement:!0,onStoreReady:function(){store.db.onversionchange=function(e){e&&e.newVersion||store.db.close()},resolve(store)},onError:reject})})},setEntry=function(store,key,value){return new Promise(function(resolve,reject){var entry={key:key,value:value}
;store.put(entry,function(returnKey){resolve(returnKey===key)},reject)})},getEntry=function(store,key){return new Promise(function(resolve,reject){store.get(key,function(entry){if(!entry||void 0===entry.value)return resolve(entry);resolve(entry.value)},reject)})},removeEntry=function(store,key){return new Promise(function(resolve,reject){store.remove(key,function(result){resolve(!1!==result)},reject)})},getKnownStores=function(){return knownStores=knownStores||openStore("index")},deleteStore=function(store,storeName){return new Promise(function(resolve,reject){var success=function(){(function(storeName){return getKnownStores().then(function(store){
return removeEntry(store,storeName)})})(storeName).then(function(){resolve(!0)}).catch(reject)};isIndexedDB2?store.deleteDatabase(success,reject):store.clear(success,reject)})},indexDbBackend=function(storeName){var innerStore,writePromise,getStore=function(){return innerStore=innerStore||openStore(storeName).then(function(store){return function(storeName){return getKnownStores().then(function(store){return setEntry(store,storeName,{name:storeName,lastOpen:Date.now()})})}(storeName).then(function(){return Promise.resolve(store)})})},ensureSerie=function(getWritingPromise){return writePromise?new Promise(function(resolve,reject){var runWrite=function(){
var p=getWritingPromise();(writePromise=p).then(resolve).catch(reject)};writePromise.then(runWrite).catch(runWrite)}):writePromise=getWritingPromise()};if(_.isEmpty(storeName)||!_.isString(storeName))throw new TypeError("The store name is required");return{getItem:function(key){return ensureSerie(function(){return getStore().then(function(store){return getEntry(store,key)})})},setItem:function(key,value){return ensureSerie(function(){return getStore().then(function(store){return setEntry(store,key,value)})})},removeItem:function(key){return ensureSerie(function(){return getStore().then(function(store){return removeEntry(store,key)})})},getItems:function(){
return ensureSerie(function(){return getStore().then(function(store){return function(store){return new Promise(function(resolve,reject){store.getAll(function(entries){if(!_.isArray(entries))return resolve({});resolve(_.reduce(entries,function(acc,entry){return entry.key&&entry.value&&(acc[entry.key]=entry.value),acc},{}))},reject)})}(store)})})},clear:function(){return ensureSerie(function(){return getStore().then(function(store){return new Promise(function(resolve,reject){store.clear(function(){resolve(!0)},reject)})})})},removeStore:function(){return ensureSerie(function(){return getStore().then(function(store){return deleteStore(store,storeName)})})}}}
;return indexDbBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),getKnownStores().then(function(store){return new Promise(function(resolve,reject){store.getAll(function(entries){var all=[];_.forEach(entries,function(entry){var storeName=entry&&entry.key;storeName&&all.push(openStore(storeName).then(function(storeToRemove){if(!validate||validate(storeName,entry.value))return deleteStore(storeToRemove,storeName)}))}),Promise.all(all).then(resolve).catch(reject)},reject)})})},indexDbBackend.getAll=function(validate){return _.isFunction(validate)||(validate=function(){return!0}),getKnownStores().then(function(store){
return new Promise(function(resolve,reject){store.getAll(function(entries){var storeNames=_(entries).filter(function(entry){return entry&&entry.key&&validate(entry.key,entry.value)}).map(function(entry){return entry.key}).value();return resolve(storeNames)},reject)})})},indexDbBackend.getStoreIdentifier=function(){return openStore("id").then(function(store){return getEntry(store,"id").then(function(id){return _.isEmpty(id)?(id=uuid(),setEntry(store,"id",id).then(function(){return id})):id})})},indexDbBackend}),define("core/store/memory",["lodash","core/promise","lib/uuid"],function(_,Promise,uuid){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,
Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,uuid=uuid&&uuid.hasOwnProperty("default")?uuid.default:uuid;var idStore,memoryStore={},memoryStorageBackend=function(storeName){if(_.isEmpty(storeName)||!_.isString(storeName))throw new TypeError("The store name is required");return memoryStore[storeName]=memoryStore[storeName]||{},{getItem:function(key){return _.isPlainObject(memoryStore[storeName])?Promise.resolve(memoryStore[storeName][key]):Promise.resolve()},setItem:function(key,value){return _.isPlainObject(memoryStore[storeName])||(memoryStore[storeName]={}),memoryStore[storeName][key]=value,Promise.resolve(!0)},
removeItem:function(key){return memoryStore[storeName]=_.omit(memoryStore[storeName],key),Promise.resolve(void 0===memoryStore[storeName][key])},getItems:function(){return Promise.resolve(memoryStore[storeName])},clear:function(){return memoryStore[storeName]={},Promise.resolve(!0)},removeStore:function(){return memoryStore=_.omit(memoryStore,storeName),Promise.resolve(void 0===memoryStore[storeName])}}};return memoryStorageBackend.removeAll=function(validate){return _.isFunction(validate)||(validate=null),memoryStore=_.omit(memoryStore,function(store,storeName){return!validate||validate(storeName)}),Promise.resolve(!0)},memoryStorageBackend.getAll=function(
validate){var storeNames;return _.isFunction(validate)||(validate=null),storeNames=_(memoryStore).map(function(store,storeName){return storeName}).filter(function(storeName){return!validate||validate(storeName)}).value(),Promise.resolve(storeNames)},memoryStorageBackend.getStoreIdentifier=function(){return _.isEmpty(idStore)&&(idStore=uuid()),Promise.resolve(idStore)},memoryStorageBackend}),define("core/store",["lodash","moment","module","core/logger","core/promise","core/store/localstorage","core/store/sessionstorage","core/store/indexeddb","core/store/memory"],function(_,moment,module,loggerFactory,Promise,localStorageBackend,sessionStorageBackend,
indexedDBBackend,memoryBackend){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,moment=moment&&moment.hasOwnProperty("default")?moment.default:moment,module=module&&module.hasOwnProperty("default")?module.default:module,loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,localStorageBackend=localStorageBackend&&localStorageBackend.hasOwnProperty("default")?localStorageBackend.default:localStorageBackend,sessionStorageBackend=sessionStorageBackend&&sessionStorageBackend.hasOwnProperty("default"
)?sessionStorageBackend.default:sessionStorageBackend,indexedDBBackend=indexedDBBackend&&indexedDBBackend.hasOwnProperty("default")?indexedDBBackend.default:indexedDBBackend,memoryBackend=memoryBackend&&memoryBackend.hasOwnProperty("default")?memoryBackend.default:memoryBackend;var store,supportsIndexedDB=!1,dectectionDone=!1,quotaChecked=!1,backendApi=["removeAll","getAll","getStoreIdentifier"],storeApi=["getItem","setItem","removeItem","getItems","clear","removeStore"],logger=loggerFactory("core/store"),config=_.defaults(module.config()||{},{lowSpaceRatio:80,invalidation:{staled:"P2W",oldster:"P2M"}}),isIndexDBSupported=function(){
return dectectionDone?Promise.resolve(supportsIndexedDB):new Promise(function(resolve){var test,indexedDB,done=function(result){return dectectionDone=!0,resolve(supportsIndexedDB=!!result)};try{if(!(indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB))return done(!1);(test=indexedDB.open("__feature_test",1)).onsuccess=function(){if(test.result)return test.result.close(),done(!0)},test.onerror=function(e){return e.preventDefault(),done(!1),!1}}catch(err){done(!1)}})},loadBackend=function(preselectedBackend){return isIndexDBSupported().then(function(){var backend=preselectedBackend||(
supportsIndexedDB?indexedDBBackend:localStorageBackend);return _.isFunction(backend)?function(backend){return _.all(backendApi,function(method){return _.isFunction(backend[method])})}(backend)?(backend!==memoryBackend&&(!quotaChecked&&"storage"in window.navigator&&window.navigator.storage.estimate&&window.navigator.storage.estimate().then(function(estimate){var usedRatio=0;_.isNumber(estimate.usage)&&_.isNumber(estimate.quota)&&0<estimate.quota&&((usedRatio=estimate.usage/estimate.quota)>config.lowSpaceRatio?(logger.warn("The browser storage is getting low ".concat(usedRatio.toFixed(2),"% used"),estimate),logger.warn(
"We will attempt to clean oldster databases in persistent backends"),store.cleanUpSpace(config.invalidation.oldster,[],localStorageBackend),store.cleanUpSpace(config.invalidation.oldster,[],sessionStorageBackend),store.cleanUpSpace(config.invalidation.oldster,[],indexedDBBackend)):logger.debug("Browser storage estimate : ".concat(usedRatio.toFixed(2),"% used"),estimate))}).catch(function(err){logger.warn("Unable to retrieve quotas : ".concat(err.message))}),quotaChecked=!0),backend):Promise.reject(new TypeError("This backend doesn't comply with the store backend API")):Promise.reject(new TypeError("No backend, no storage!"))})};return(store=function(
storeName,preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){var storeInstance=backend(storeName);return function(storage){return _.all(storeApi,function(method){return _.isFunction(storage[method])})}(storeInstance)?storeInstance:Promise.reject(new TypeError("The store doesn't comply with the Storage interface"))})}).backends={localStorage:localStorageBackend,sessionStorage:sessionStorageBackend,indexedDB:indexedDBBackend,memory:memoryBackend},store.removeAll=function(validate,preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){return backend.removeAll(validate)})},store.cleanUpSpace=function(
since,storeNamePattern,preselectedBackend){var tsThreshold;return tsThreshold=_.isNumber(since)&&0<since?since:(_.isString(since)||(since=config.invalidation.oldster),moment().subtract(moment.duration(since)).valueOf()),logger.info("Trying to remove stores lastly opened before ".concat(tsThreshold,"(").concat(since,")")),store.removeAll(function(storeName,storeEntry){return!(!storeName||!storeEntry)&&(!(storeNamePattern instanceof RegExp&&!storeNamePattern.test(storeName))&&(_.isNumber(storeEntry.lastOpen)&&_.isNumber(tsThreshold)&&storeEntry.lastOpen<=tsThreshold))},preselectedBackend)},store.getAll=function(validate,preselectedBackend){return loadBackend(
preselectedBackend).then(function(backend){return backend.getAll(validate)})},store.getIdentifier=function(preselectedBackend){return loadBackend(preselectedBackend).then(function(backend){return backend.getStoreIdentifier()})},store}),define("core/tokenStore",["lodash","core/store"],function(_,store){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,store=store&&store.hasOwnProperty("default")?store.default:store;var defaultConfig={maxSize:6,tokenTimeLimit:144e4};return function(options){var config=_.defaults(options||{},defaultConfig),getStore=function(){return store("tokenStore.tokens",store.backends.memory)};return{dequeue:function(){
var _this=this;return this.getIndex().then(function(latestIndex){var key=_.first(latestIndex);return key?getStore().then(function(storage){return storage.getItem(key)}).then(function(token){return _this.remove(key).then(function(){return token})}):Promise.resolve()})},enqueue:function(token){var _this2=this;return _.isString(token)&&(token={value:token,receivedAt:Date.now()}),getStore().then(function(storage){return storage.setItem(token.value,token)}).then(function(updated){return!!updated&&_this2.enforceMaxSize().then(function(){return!0})})},getIndex:function(){return this.getTokens().then(function(tokens){return Object.values(tokens).sort(function(t1,t2
){return t1.receivedAt-t2.receivedAt}).map(function(token){return token.value})})},has:function(key){return this.getIndex().then(function(latestIndex){return latestIndex.includes(key)})},remove:function(key){return this.has(key).then(function(result){return!!result&&getStore().then(function(storage){return storage.removeItem(key)})})},clear:function(){return getStore().then(function(storage){return storage.clear()})},getTokens:function(){return getStore().then(function(storage){return storage.getItems()})},getSize:function(){return this.getIndex().then(function(latestIndex){return latestIndex.length})},setMaxSize:function(size){_.isNumber(size
)&&0<size&&size!==config.maxSize&&(config.maxSize=size,this.enforceMaxSize())},enforceMaxSize:function(){var _this3=this;return this.getIndex().then(function(latestIndex){var excess=latestIndex.length-config.maxSize;if(0<excess){var keysToRemove=latestIndex.slice(0,excess);return Promise.all(keysToRemove.map(function(key){return _this3.remove(key)}))}return!0})},checkExpiry:function(token){var tokenTimeLimit=config.tokenTimeLimit;return 0<tokenTimeLimit&&Date.now()-token.receivedAt>tokenTimeLimit?this.remove(token.value):Promise.resolve(!0)},expireOldTokens:function(){var _this4=this;return this.getTokens().then(function(tokens){return Object.values(tokens
).reduce(function(previousPromise,nextToken){return previousPromise.then(function(){return _this4.checkExpiry(nextToken)})},Promise.resolve())}).then(function(){return!0})}}}}),define("core/tokenHandler",["lodash","module","core/tokenStore","core/promiseQueue"],function(_,module,tokenStoreFactory,promiseQueue){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,module=module&&module.hasOwnProperty("default")?module.default:module,tokenStoreFactory=tokenStoreFactory&&tokenStoreFactory.hasOwnProperty("default")?tokenStoreFactory.default:tokenStoreFactory,promiseQueue=promiseQueue&&promiseQueue.hasOwnProperty("default")?promiseQueue.default:promiseQueue
;var clientConfigFetched=!1,defaults={maxSize:6,tokenTimeLimit:144e4};return function(options){_.isString(options)&&(options={initialToken:options}),options=_.defaults({},options,_.omit(module.config(),"tokens"),defaults);var tokenStore=tokenStoreFactory(options);return{getToken:function(){var _this=this,initialToken=options.initialToken,getFirstTokenValue=function(){return tokenStore.dequeue().then(function(currentToken){return currentToken?currentToken.value:null})};return initialToken?(options.initialToken=null,Promise.resolve(initialToken)):tokenStore.expireOldTokens().then(function(){return tokenStore.getSize()}).then(function(queueSize){
return 0<queueSize?getFirstTokenValue():clientConfigFetched?Promise.reject(new Error("No tokens available. Please refresh the page.")):_this.getClientConfigTokens().then(getFirstTokenValue)})},setToken:function(newToken){return tokenStore.enqueue(newToken)},getClientConfigTokens:function(){var _this2=this,clientTokens=(module.config().tokens||[]).map(function(serverToken){return{value:serverToken,receivedAt:Date.now()}});return clientConfigFetched=!0,Promise.resolve(clientTokens).then(function(newTokens){var setTokenQueue=promiseQueue();return newTokens.forEach(function(token){return setTokenQueue.serie(function(){return _this2.setToken(token)})}),
setTokenQueue.serie(function(){return!0})})},clearStore:function(){return tokenStore.clear()},getQueueLength:function(){return tokenStore.getSize()},setMaxSize:function(size){tokenStore.setMaxSize(size)}}}}),define("core/request",["jquery","lodash","i18n","module","context","core/promiseQueue","core/tokenHandler","core/logger"],function($,_,__,module,context,promiseQueue,tokenHandlerFactory,loggerFactory){"use strict";function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),
!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,module=module&&module.hasOwnProperty("default")?module.default:module,context=context&&context.hasOwnProperty("default")?context.default:context,promiseQueue=promiseQueue&&promiseQueue.hasOwnProperty("default")?promiseQueue.default:promiseQueue,
tokenHandlerFactory=tokenHandlerFactory&&tokenHandlerFactory.hasOwnProperty("default")?tokenHandlerFactory.default:tokenHandlerFactory,loggerFactory=loggerFactory&&loggerFactory.hasOwnProperty("default")?loggerFactory.default:loggerFactory;var tokenHandler=tokenHandlerFactory(),queue=promiseQueue(),logger=loggerFactory("core/request"),createError=function(response,fallbackMessage,httpCode,httpSent){var err;return(err=response&&response.errorCode?new Error("".concat(response.errorCode," : ").concat(response.errorMsg||response.errorMessage||response.error)):new Error(fallbackMessage)).response=response,err.sent=httpSent,err.source=response.source||"request",
_.isNumber(httpCode)&&(err.code=httpCode),err};return function(options){var _this=this;if(module.config().noToken&&(options.noToken=!0),_.isEmpty(options.url))throw new TypeError("At least give a URL...");var runRequest=function(){var tempToken,computeCSRFTokenHeader=function(){return options.noToken?Promise.resolve({}):tokenHandler.getToken().then(function(token){return function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},"X-CSRF-Token",(tempToken=token)||"none")})},computeJWTTokenHeader=function(){var jwtTokenHandler=options.jwtTokenHandler
;return jwtTokenHandler?jwtTokenHandler.getToken().then(function(token){return{Authorization:"Bearer ".concat(token)}}):Promise.resolve({})},setTokenFromXhr=function(xhr){if(_.isFunction(xhr.getResponseHeader)){var token=xhr.getResponseHeader("X-CSRF-Token");if(logger.debug("received %s header %s","X-CSRF-Token",token),token)return tokenHandler.setToken(token)}return Promise.resolve()},isAccessTokenRefreshTried=!1;return Promise.all([computeCSRFTokenHeader(),computeJWTTokenHeader()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),csrfTokenHeader=_ref3[0],jwtTokenHeader=_ref3[1];return Object.assign({},options.headers,csrfTokenHeader,jwtTokenHeader)}
).then(function(customHeaders){return new Promise(function(resolve,reject){var ajaxParameters={url:options.url,method:options.method||"GET",headers:customHeaders,data:options.data,contentType:options.contentType||void 0,dataType:options.dataType||"json",async:!0,timeout:1e3*options.timeout||1e3*context.timeout||0,beforeSend:function(){_.isEmpty(customHeaders)||logger.debug("sending %s header %s","X-CSRF-Token",customHeaders&&customHeaders["X-CSRF-Token"])},global:!options.background},onDone=function(response,status,xhr){setTokenFromXhr(xhr).then(function(){return 204===xhr.status||response&&204===response.errorCode||"nocontent"===status?resolve(
):403===xhr.status||response&&403===response.errorCode?reject(createError(response,"".concat(xhr.status," : ").concat(xhr.statusText),xhr.status,0<xhr.readyState)):200===xhr.status||response&&!0===response.success?resolve(response):void reject(createError(response,__("The server has sent an empty response"),xhr.status,0<xhr.readyState))}).catch(function(error){logger.error(error),reject(createError(response,error,xhr.status,0<xhr.readyState))})};$.ajax(ajaxParameters).done(onDone).fail(function onFail(xhr,textStatus,errorThrown){var response,jwtTokenHandler=options.jwtTokenHandler;if(401===xhr.status&&!isAccessTokenRefreshTried&&jwtTokenHandler
)return isAccessTokenRefreshTried=!0,void jwtTokenHandler.refreshToken().then(computeJWTTokenHeader).then(function(jwtTokenHeaders){Object.assign(ajaxParameters.headers,jwtTokenHeaders),$.ajax(ajaxParameters).done(onDone).fail(onFail)}).catch(function(){onFail(xhr,textStatus,errorThrown)});try{response=JSON.parse(xhr.responseText)}catch(parseErr){response={}}var responseExtras={success:!1,source:"network",cause:options.url,purpose:"proxy",context:_this,code:xhr.status,sent:0<xhr.readyState,type:"error",textStatus:textStatus,message:errorThrown||__("An error occurred!")},enhancedResponse=Object.assign({},responseExtras,response);(
0===enhancedResponse.code?tempToken?(logger.debug("re-enqueueing %s token %s","X-CSRF-Token",tempToken),tokenHandler.setToken(tempToken).then(function(){tempToken=null})):Promise.resolve():setTokenFromXhr(xhr)).then(function(){reject(createError(enhancedResponse,"".concat(xhr.status," : ").concat(xhr.statusText),xhr.status,0<xhr.readyState))}).catch(function(error){logger.error(error),reject(createError(enhancedResponse,error,xhr.status,0<xhr.readyState))})})})})};return tokenHandler.getQueueLength().then(function(queueLength){return!0===options.noToken?runRequest():options.sequential||1===queueLength?queue.serie(runRequest):runRequest()})}}),define(
"core/dataProvider/request",["lodash","core/request"],function(_,coreRequest){"use strict";return _=_&&_.hasOwnProperty("default")?_.default:_,coreRequest=coreRequest&&coreRequest.hasOwnProperty("default")?coreRequest.default:coreRequest,function(url,data,method,headers,background,noToken){return coreRequest({url:url,data:data,method:method,headers:headers,background:background,noToken:!1!==noToken}).then(function(response){return _.isUndefined(response)?Promise.resolve():response.success?Promise.resolve(response.data):Promise.reject(response)}).catch(function(error){return Promise.reject(error)})}}),define("core/polling",["lodash","core/promise",
"core/eventifier"],function(_,Promise,eventifier){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,Promise=Promise&&Promise.hasOwnProperty("default")?Promise.default:Promise,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier;return function(config,argument_1){var timer,promise,interval,max,iter,action,context,autoStart,state={},startTimer=function(){timer=setTimeout(iteration,interval),state.stopped=!1,state.pending=!0},stopTimer=function(){clearTimeout(timer),timer=null,state.stopped=!0,state.pending=!1},iteration=function(){max&&max<=iter?polling.stop():(iter=(iter||0)+1,state.processing=!0,state.pending=!1,
polling.trigger("call"),action.call(context,polling),promise||state.stopped||(state.processing=!1,startTimer()))},polling={async:function(){var resolver={};return(promise=new Promise(function(resolve,reject){resolver.resolve=resolve,resolver.reject=reject})).then(function(){promise=null,state.processing=!1,state.stopped||startTimer(),polling.trigger("resolved")}).catch(function(){promise=null,state.processing=!1,polling.stop(),polling.trigger("rejected")}),polling.trigger("async",resolver),resolver},next:function(){var _next;return state.stopped&&(iter=0),stopTimer(),max&&max<=iter||(state.stopped=!1,promise?(_next=this.next.bind(this),promise.then(_next
).catch(_next)):(this.trigger("next"),iteration())),this},start:function(){return timer||(iter=0,startTimer(),this.trigger("start")),this},stop:function(){return stopTimer(),this.trigger("stop"),this},setInterval:function(value){return interval=Math.abs(parseInt(value,10)||6e4),this.trigger("setinterval",interval),this},getInterval:function(){return interval},setAction:function(fn){return action=fn,this.trigger("setaction",action),this},getAction:function(){return action},setContext:function(ctx){return context=ctx||this,this.trigger("setcontext",ctx),this},getContext:function(){return context},setMax:function(value){return max=Math.abs(parseInt(value,10)||0
),this},getMax:function(){return max},getIteration:function(){return iter||0},is:function(stateName){return!!state[stateName]}};return eventifier(polling),interval=6e4,context=polling,action=null,autoStart=!(state.stopped=!0),iter=0,_.isFunction(config)&&(polling.setAction(config),config=null),_.isObject(config)&&(polling.setAction(config.action),polling.setInterval(config.interval||argument_1),polling.setContext(config.context),polling.setMax(config.max),autoStart=!!config.autoStart),autoStart&&polling.start(),polling}}),define("ui/taskQueue/taskQueueModel",["jquery","lodash","core/eventifier","core/polling","core/dataProvider/request","ui/feedback",
"jquery.fileDownload"],function($,_,eventifier,polling,request,feedback,jquery_fileDownload){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier,polling=polling&&polling.hasOwnProperty("default")?polling.default:polling,request=request&&request.hasOwnProperty("default")?request.default:request,feedback=feedback&&feedback.hasOwnProperty("default")?feedback.default:feedback;var _defaults={url:{get:"",archive:"",all:"",download:""},pollSingleIntervals:[{iteration:4,interval:1e3}],pollAllIntervals:[{iteration:10,
interval:5e3},{iteration:0,interval:1e4}]};function hasSameState(task1,task2){return task1.status===task2.status||("created"===task1.status||"in_progress"===task1.status)&&("created"===task2.status||"in_progress"===task2.status)}return function(config){var model,_cache,singlePollings={};return config=_.defaults(config||{},_defaults),model=eventifier({setEndpoints:function(urls){return _.assign(config.url,urls||{}),this},get:function(taskId){var status;if(!config.url||!config.url.get)throw new TypeError("config.url.get is not configured while get() is being called");return(status=request(config.url.get,{taskId:taskId},"GET",{},!0).then(function(taskData){
return taskData&&taskData.status?(_cache?_cache[taskData.id]?hasSameState(_cache[taskData.id],taskData)||model.trigger("singletaskstatuschange",taskData):model.trigger("singletaskadded",taskData):_cache={},_cache[taskData.id]=taskData):Promise.reject(new Error("failed to get task data"))})).catch(function(err){model.trigger("error",err)}),status},getCached:function(taskId){return _cache&&_cache[taskId]?Promise.resolve(_cache[taskId]):this.get(taskId)},getAll:function(){var status;if(!config.url||!config.url.all)throw new TypeError("config.url.all is not configured while getAll() is being called");return(status=request(config.url.all,{limit:100},"GET",{},!0
).then(function(taskData){var newCache={};return taskData?(_cache?(_.forEach(taskData,function(task){var id=task.id;_cache[id]?hasSameState(_cache[id],task)||model.trigger("multitaskstatuschange",task):model.trigger("multitaskadded",task),newCache[id]=task}),_.forEach(_.difference(_.keys(_cache),_.keys(newCache)),function(id){model.trigger("taskremoved",_cache[id])})):_.forEach(taskData,function(task){newCache[task.id]=task}),_cache=newCache,taskData):Promise.reject(new Error("failed to get all task data"))})).catch(function(err){model.trigger("error",err)}),status},archive:function(taskId){var status;if(!config.url||!config.url.archive)throw new TypeError(
"config.url.archive is not configured while archive() is being called");return(status=request(config.url.archive,{taskId:taskId},"GET",{},!0)).catch(function(res){model.trigger("error",res)}),status},pollAll:function(immediate){var self=this,loop=0,pollingIntervals=function(){if(config.pollAllIntervals&&_.isArray(config.pollAllIntervals))return _.cloneDeep(config.pollAllIntervals)}(),_updateInterval=function(pollingInstance){var pollingInterval;loop?loop--:(pollingInterval=pollingIntervals.shift())&&void 0!==pollingInterval.iteration&&pollingInterval.interval&&(loop=pollingInterval.iteration,pollingInstance.setInterval(pollingInterval.interval))};if(
!config.url||!config.url.all)throw new TypeError("config.url.all is not configured while pollAll() is being called");return this.globalPolling||(this.globalPolling=polling({action:function(){var statusArr,done=this.async();model.getAll().then(function(taskDataArray){if(model.trigger("pollAll",taskDataArray),-1===(statusArr=_.map(taskDataArray,"status")).indexOf("in_progress")&&-1===statusArr.indexOf("created"))return done.reject();_updateInterval(self.globalPolling),done.resolve()}).catch(function(){done.reject()})}}),_updateInterval(this.globalPolling)),this.globalPolling.start(),this.trigger("pollAllStart"),immediate&&this.globalPolling.next(),model},
pollAllStop:function(){return this.globalPolling&&(this.globalPolling.stop(),this.trigger("pollAllStop")),this},pollSingle:function(taskId){var self=this,loop=0,pollingIntervals=function(){if(config.pollSingleIntervals&&_.isArray(config.pollSingleIntervals))return _.cloneDeep(config.pollSingleIntervals)}(),_updateInterval=function(pollingInstance){var pollingInterval;return loop?(loop--,!0):!!((pollingInterval=pollingIntervals.shift())&&pollingInterval.iteration&&pollingInterval.interval)&&(loop=pollingInterval.iteration,pollingInstance.setInterval(pollingInterval.interval),!0)};if(!config.url||!config.url.get)throw new TypeError(
"config.url.get is not configured while pollSingle() is being called");return singlePollings[taskId]&&singlePollings[taskId].stop(),new Promise(function(resolve){var poll=polling({action:function(){var done=this.async();self.get(taskId).then(function(taskData){"completed"===taskData.status||"failed"===taskData.status?(poll.stop(),self.trigger("pollSingleFinished",taskId,taskData),resolve({finished:!0,task:taskData})):_updateInterval(poll)?(self.trigger("pollSingle",taskId,taskData),done.resolve()):(self.trigger("pollSingleFinished",taskId,taskData),resolve({finished:!1,task:taskData}))}).catch(function(){done.reject()})}});_updateInterval(poll),
singlePollings[taskId]=poll.start(),self.trigger("pollSingleStart",taskId)})},pollSingleStop:function(taskId){return singlePollings&&singlePollings[taskId]&&(singlePollings[taskId].stop(),this.trigger("pollSingleStop",taskId)),this},create:function(url,data){var taskCreate,self=this;return(taskCreate=request(url,data,"POST",{},!0).then(function(creationResult){return creationResult&&creationResult.task&&creationResult.task.id?(self.trigger("created",creationResult),self.pollSingle(creationResult.task.id).then(function(result){return creationResult.extra&&(result.extra=creationResult.extra),result.finished?self.trigger("fastFinished",result):self.trigger(
"enqueued",result),result})):Promise.reject(new Error("failed to get task data"))})).catch(function(err){model.trigger("error",err)}),taskCreate},download:function(taskId){if(!config.url||!config.url.download)throw new TypeError("config.url.download is not configured while download() is being called");return new Promise(function(resolve,reject){$.fileDownload(config.url.download,{httpMethod:"POST",data:{taskId:taskId},successCallback:function(result){resolve(result)},failCallback:function(err){reject(err)}})})},redirect:function(taskId){return this.getCached(taskId).then(function(taskData){var redirectUrl=(taskData||{}).redirectUrl;if(!redirectUrl
)throw new TypeError("config.redirectUrl is not configured while redirect() is being called");if(0!==redirectUrl.indexOf("http"))throw new TypeError("redirectUrl does not look like a proper url: "+redirectUrl);return request(taskData.redirectUrl)}).then(function(response){_.isEmpty(response)||(window.location.href=response)}).catch(function(err){throw err&&202===err.code&&err.response&&err.response.errorMessage&&feedback().error(err.response.errorMessage),err})}})}}),define("tpl!taoSync/component/terminateExecutions/notification",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],
helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;return buffer+='<div class="component termination-area">\n    <section class="fb-container">\n        <div class="feedback-warning status-active">\n            <span class="icon-warning"></span>\n            <div class="notification-message">\n                <p>\n                    ',stack1=(helper=helpers.notificationMessage)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.notificationMessage)===functionType?helper.call(depth0,{hash:{},
data:data}):helper,buffer+=escapeExpression(stack1)+'\n                </p>\n            </div>\n\n            <div class="in-progress-list">\n                <p class="b">'+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Assessments in progress:",options):helperMissing.call(depth0,"__","Assessments in progress:",options)))+"</p>\n                <ul>\n                    ",!(stack1=helpers.each.call(depth0,depth0&&depth0.aggregatedData,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var stack1,buffer="";return buffer+="\n                        <li>- "+escapeExpression(typeof(
stack1=depth0&&depth0.label)===functionType?stack1.apply(depth0):stack1)+" / "+escapeExpression(typeof(stack1=depth0&&depth0.total)===functionType?stack1.apply(depth0):stack1)+"</li>\n                    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n                </ul>\n            </div>\n        </div>\n\n\n        <div class="button-area">\n            <span class="btn-info cancel-button">\n                <span class="icon-close"></span>\n                '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Cancel",options):helperMissing.call(depth0,"__","Cancel",options))
)+'\n            </span>\n\n            <span class="btn-warning force-terminate-button">\n                <span class="icon-warning"></span>\n                '+escapeExpression((options={hash:{},data:data},(helper=helpers.__||depth0&&depth0.__)?helper.call(depth0,"Force end and synchronize",options):helperMissing.call(depth0,"__","Force end and synchronize",options)))+"\n            </span>\n        </div>\n    <div>\n</div>"})}),define("taoSync/component/terminateExecutions/terminateExecutions",["i18n","lodash","core/dataProvider/request","ui/component","tpl!taoSync/component/terminateExecutions/notification"],function(__,_,request,component,listTpl){
"use strict";return function($container,config){if(!_.isPlainObject(config))throw new TypeError("The configuration is required");if(null==config.terminateUrl)throw new TypeError("terminateUrl configuration parameter is required");if(null==config.csrfToken)throw new TypeError("CSRF token is missing");return component({}).setTemplate(listTpl).on("init",function(){config.activeExecutions=[],config.aggregatedData={},config.notificationMessage=(1<config.data.length?__("There are %s assessments in progress",config.data.length):__("There is one assessment in progress"))+", "+__("please ensure that everyone has completed the assessment before proceeding."),
_.forEach(config.data,function(execution){config.activeExecutions.push(execution.execution_id),config.aggregatedData[execution.context_id]=config.aggregatedData[execution.context_id]||{total:0},config.aggregatedData[execution.context_id].label=execution.label,config.aggregatedData[execution.context_id].total++}),this.config=config}).on("render",function(){var self=this;$container.find(".cancel-button").on("click",function(e){e.preventDefault(),self.trigger("terminationCanceled"),self.destroy()}),$container.find(".force-terminate-button").on("click",function(e){e.preventDefault(),function(){var requestData={executionsId:config.activeExecutions}
;return requestData[config.csrfToken.name]=config.csrfToken.token,request(config.terminateUrl,requestData,"POST")}().then(function(response){self.trigger("terminationSucceeded"),self.destroy()}).catch(function(error){self.trigger("terminationFailed")})}),self.trigger("dialogRendered")}).init(config)}}),define("css!ui/dashboard/css/dashboard",[],function(){}),define("ui/dashboard",["i18n","lodash","ui/component","handlebars","lib/dompurify/purify","css!ui/dashboard/css/dashboard.css"],function(__,_,component,Handlebars,DOMPurify,dashboard_css){"use strict";function _typeof(obj){return(
_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(
arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){
return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(haystack,needle))return options.fn(this)})}__=__&&__.hasOwnProperty("default")?__.default:__,_=_&&_.hasOwnProperty("default")?_.default:_,component=component&&component.hasOwnProperty("default")?component.default:component,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,Helpers0.__initialized||(Helpers0(Handlebars),
Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var helper,buffer="",escapeExpression=this.escapeExpression;return buffer+='<div class="readiness-dashboard-container">\n    <h3 class="dashboard-header">',buffer+=escapeExpression((helper=helpers.headerText)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.headerText)?helper.call(depth0,{hash:{},data:data}):helper
)+'</h3>\n    <section>\n        <div class="dashboard-loading" style="display: none;">\n            <p class="dashboard-text">\n                ',buffer+=escapeExpression((helper=helpers.loadingText)?helper.call(depth0,{hash:{},data:data}):"function"==typeof(helper=depth0&&depth0.loadingText)?helper.call(depth0,{hash:{},data:data}):helper)+'\n            </p>\n        </div>\n        <div class="dashboard-metrics_container"></div>\n        <div class="dashboard-warning" style="display: none;">\n            <p class="dashboard-text">\n                ',buffer+=escapeExpression((helper=helpers.warningText)?helper.call(depth0,{hash:{},data:data}
):"function"==typeof(helper=depth0&&depth0.warningText)?helper.call(depth0,{hash:{},data:data}):helper)+"\n            </p>\n        </div>\n    </section>\n</div>\n"});function dashboardTpl(data,options,asString){var html=Template(data,options);return html}Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper,
buffer="";return buffer+='\n                    <li class="dashboard-metric_info-item">',stack1=(helper=helpers.text)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.text)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</li>\n                "}return buffer+='<ul class="dashboard-metrics_list ',stack1=(helper=helpers.layoutType)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.layoutType)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n    ',!(stack1=helpers.each.call(depth0,depth0&&depth0.data,{hash:{},
inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <li class="dashboard-metric">\n            <h4 class="dashboard-metric_title">',stack1=(helper=helpers.title)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.title)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'</h4>\n            <div class="dashboard-metric_score-container">\n                <div class="dashboard-metric_score score-',stack1=(helper=helpers.state)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.state)===functionType?helper.call(depth0,{
hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" style="width: ',stack1=(helper=helpers.score)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.score)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'%;"></div>\n            </div>\n            <ul class="dashboard-metric_info">\n                ',!(stack1=helpers.each.call(depth0,depth0&&depth0.info,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n            </ul>\n        </li>\n    "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n</ul>\n"})
;var defaults={headerText:__("Outlook on the next Synchronization"),loadingText:__("Creating report ..."),warningText:__("Please contact your system administrator."),loading:!1,data:[],scoreState:{error:32,warn:65},layoutType:"tiles"};return function(config){return component({clearDashboard:function(){this.getElement().find(".dashboard-metrics_container").empty(),this.toggleWarningMessage(!1)},mapScoreToState:function(score){var scoreState=this.config.scoreState;return score>scoreState.warn?"success":score>scoreState.error?"warn":"error"},renderMetrics:function(data){var $listContainer=this.getElement().find(".dashboard-metrics_container"),self=this;if(
data&&data.length){_.forEach(data,function(item){item.state=self.mapScoreToState(item.score)}),this.toggleWarningMessage(_.some(data,function(item){return item.score<=self.config.scoreState.warn}));var $metricsList=$(function(data,options){var html=Template$1(data,options);return html}({data:data,layoutType:self.config.layoutType}));$listContainer.append($metricsList)}},toggleLoadingBar:function(display){this.getElement().find(".dashboard-loading").toggle(display)},toggleWarningMessage:function(display){this.getElement().find(".dashboard-warning").toggle(display)}},defaults).setTemplate(dashboardTpl).on("init",function(){this.setState("loading",
this.config.loading)}).on("render",function(){this.is("loading")?this.toggleLoadingBar(!0):this.renderMetrics(this.config.data)}).init(config)}}),define("taoSync/component/readinessDashboard/readinessDashboard",["i18n","lodash","core/eventifier","core/promise","ui/dashboard","core/dataProvider/request","util/url"],function(__,_,eventifier,Promise,dashboard,request,urlHelper){"use strict";return function($container){return eventifier({performChecks:function(){var self=this;new Promise(function(resolve){request(urlHelper.route("getMachineChecks","Synchronizer","taoSync")).then(function(data){resolve(data)})}).then(function(data){
self.dashboard.toggleLoadingBar(!1),self.dashboard.renderMetrics(data)})},render:function(){return this.dashboard=dashboard({renderTo:$container,loading:!0,warningText:!1,layoutType:"list"}),this.performChecks(),this},destroy:function(){return this.dashboard&&this.dashboard.destroy(),this.trigger("destroy"),this}})}}),define("util/namespace",["lodash"],function(_){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_;var reSplit=/\s/g,namespaceHelper={split:function(names,normalize){return!_.isString(names)||_.isEmpty(names)?[]:(normalize&&(names=names.toLowerCase()),_(names.trim().split(reSplit)).compact().uniq().value())},getName:function(namespaced){
return!_.isString(namespaced)||_.isEmpty(namespaced)?"":-1<namespaced.indexOf(".")?namespaced.substr(0,namespaced.indexOf(".")):namespaced},getNamespace:function(namespaced,defaultNs){return!_.isString(namespaced)||_.isEmpty(namespaced)?"":-1<namespaced.indexOf(".")?namespaced.substr(namespaced.indexOf(".")+1):defaultNs||"@"},namespaceAll:function(names,namespace,normalize){var suffix;return _.isArray(names)||(names=namespaceHelper.split(names,normalize)),normalize&&(namespace=namespace.toLowerCase()),suffix=namespace?"."+namespace:"",_(names).map(function(sh){return sh.indexOf(".")<0?sh+suffix:sh}).compact().uniq().value().join(" ")}};return namespaceHelper
}),define("util/shortcut/registry",["jquery","lodash","util/namespace"],function($,_,namespaceHelper){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,namespaceHelper=namespaceHelper&&namespaceHelper.hasOwnProperty("default")?namespaceHelper.default:namespaceHelper;var modifiers={ctrl:"ctrlKey",alt:"altKey",option:"altKey",shift:"shiftKey",meta:"metaKey",cmd:"metaKey",win:"metaKey"},translateKeys={escape:"esc",arrowdown:"down",arrowleft:"left",arrowright:"right",arrowup:"up"},specialKeys={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",
36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",91:"meta",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",145:"scrolllock",144:"numlock"};function registerEvent(target,eventName,listener){target.addEventListener?target.addEventListener(eventName,listener,!1):target.attachEvent?target.attachEvent("on"+eventName,listener):target["on"+eventName]=listener}function unregisterEvent(target,eventName,listener){target.removeEventListener?target.removeEventListener(eventName,listener,!1):target.detachEvent?target.detachEvent("on"+eventName,listener):target["on"+eventName]=null}
function normalizeCommand(descriptor){var key=translateKeys[descriptor.key]||descriptor.key,parts=[];return descriptor.ctrlKey&&parts.push("control"),descriptor.altKey&&parts.push("alt"),descriptor.shiftKey&&parts.push("shift"),descriptor.metaKey&&parts.push("meta"),descriptor.scrollDown&&parts.push("scrollDown"),descriptor.scrollUp&&parts.push("scrollUp"),descriptor.clickLeft&&parts.push("clickLeft"),descriptor.clickRight&&parts.push("clickRight"),descriptor.clickMiddle&&parts.push("clickMiddle"),descriptor.clickBack&&parts.push("clickBack"),descriptor.clickForward&&parts.push("clickForward"),key&&parts.indexOf(key)<0&&parts.push(key),parts.join("+")}
function parseCommand(shortcut){var parts=namespaceHelper.getName(shortcut).split("+"),descriptor={keyboardInvolved:!1,mouseClickInvolved:!1,mouseWheelInvolved:!1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,key:null,scrollUp:null,scrollDown:null,clickLeft:null,clickRight:null,clickMiddle:null,clickBack:null,clickForward:null};return _.forEach(parts,function(part){if(modifiers[part])descriptor[modifiers[part]]=!0;else if(0<=part.indexOf("mouse")){if(descriptor.keyboardInvolved)throw new Error("A shortcut cannot involve both mouse and regular keys!");0<=part.indexOf("scroll")&&(descriptor.mouseWheelInvolved=!0,descriptor.scrollUp=0<=part.indexOf("up"),
descriptor.scrollDown=0<=part.indexOf("down")),0<=part.indexOf("click")&&(descriptor.mouseClickInvolved=!0,descriptor.clickLeft=0<=part.indexOf("left"),descriptor.clickRight=0<=part.indexOf("right"),descriptor.clickMiddle=0<=part.indexOf("middle"),descriptor.clickBack=0<=part.indexOf("back"),descriptor.clickForward=0<=part.indexOf("forward"))}else{if(descriptor.mouseClickInvolved||descriptor.mouseWheelInvolved)throw new Error("A shortcut cannot involve both mouse and regular keys!");descriptor.keyboardInvolved=!0,descriptor.key=part}}),descriptor}return function(root,defaultOptions){var keyboardIsRegistered=!1,mouseClickIsRegistered=!1,
mouseWheelIsRegistered=!1,keyboardCount=0,mouseClickCount=0,mouseWheelCount=0,shortcuts={},handlers={},states={};function getHandlers(command,namespace){return handlers[namespace]=handlers[namespace]||{},handlers[namespace][command]=handlers[namespace][command]||[],handlers[namespace][command]}function getCommandHandlers(command){return _.reduce(handlers,function(acc,nsHandlers){return nsHandlers[command]&&(acc=acc.concat(nsHandlers[command])),acc},[])}function setOptions(descriptor,options){descriptor.options=_.defaults(_.merge(descriptor.options||{},options),defaultOptions)}function unregisterKeyboard(){--keyboardCount<=0&&(keyboardCount=0,
keyboardIsRegistered&&(unregisterEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!1))}function unregisterMouseClick(){--mouseClickCount<=0&&(mouseClickCount=0,mouseClickIsRegistered&&(unregisterEvent(root,"click",onMouseClick),mouseClickIsRegistered=!1))}function unregisterMouseWheel(){--mouseWheelCount<=0&&(mouseWheelCount=0,mouseWheelIsRegistered&&(unregisterEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!1))}function registerCommand(command,descriptor){(shortcuts[command]=descriptor).keyboardInvolved&&(keyboardIsRegistered||(registerEvent(root,"keydown",onKeyboard),keyboardIsRegistered=!0),keyboardCount++),descriptor.mouseClickInvolved&&(
mouseClickIsRegistered||(registerEvent(root,"click",onMouseClick),mouseClickIsRegistered=!0),mouseClickCount++),descriptor.mouseWheelInvolved&&(mouseWheelIsRegistered||(registerEvent(root,"wheel",onMouseWheel),mouseWheelIsRegistered=!0),mouseWheelCount++)}function onKeyboard(event){processShortcut(event,{keyboardInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey,key:function(event){var code=event.which||event.keyCode,character=32<=code?String.fromCharCode(code).toLowerCase():"",key=event.key&&event.key.toLowerCase(),keyName=event.code&&event.code.toLowerCase();return keyName&&(0===keyName.indexOf("key")?(
key<"a"||"z"<key)&&"a"<=character&&character<="z"&&(key=character):0===keyName.indexOf("digit")&&(key=keyName.substr(5))),specialKeys[code]||key||character}(event)})}function onMouseClick(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},function(event){var buttons={clickLeft:!1,clickRight:!1,clickMiddle:!1,clickBack:!1,clickForward:!1};if(event.buttons)buttons.clickLeft=!!(1&event.buttons),buttons.clickRight=!!(2&event.buttons),buttons.clickMiddle=!!(4&event.buttons),buttons.clickBack=!!(8&event.buttons),buttons.clickForward=!!(16&event.buttons);else switch(
event.button){case 0:buttons.clickLeft=!0;break;case 1:buttons.clickMiddle=!0;break;case 2:buttons.clickRight=!0;break;case 3:buttons.clickBack=!0;break;case 4:buttons.clickForward=!0}return buttons}(event)))}function onMouseWheel(event){processShortcut(event,_.merge({mouseClickInvolved:!0,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey},function(event){return{scrollUp:event.deltaY<0,scrollDown:0<event.deltaY}}(event)))}function processShortcut(event,descriptor){var shortcutHandlers,$target,command=normalizeCommand(descriptor),shortcut=shortcuts[command];if(shortcut&&!states.disabled){if(
!0===shortcut.options.avoidInput&&($target=$(event.target)).closest('[type="text"],textarea').length&&(!shortcut.options.allowIn||!$target.closest(shortcut.options.allowIn).length))return;!1===shortcut.options.propagate&&event.stopPropagation(),!0===shortcut.options.prevent&&event.preventDefault(),(shortcutHandlers=getCommandHandlers(command))&&_.forEach(shortcutHandlers,function(handler){handler(event,command)})}}return root.jquery&&(root=root.get(0)),{set:function(shortcut,options){return _.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,
options),registerCommand(command,descriptor)}),this},add:function(shortcut,handler,options){return _.isFunction(handler)&&_.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,"*"),descriptor=parseCommand(normalized),command=normalizeCommand(descriptor);setOptions(descriptor,options),registerCommand(command,descriptor),getHandlers(command,namespace).push(handler)}),this},remove:function(shortcut){return _.forEach(namespaceHelper.split(shortcut,!0),function(normalized){var namespace=namespaceHelper.getNamespace(normalized,"*"),command=normalizeCommand(parseCommand(normalized));!function(command
,namespace){namespace&&!command?handlers[namespace]={}:_.forEach(handlers,function(nsHandlers,ns){!nsHandlers[command]||"*"!==namespace&&namespace!==ns||(nsHandlers[command]=[])})}(command,namespace),getCommandHandlers(command).length||function(command){var descriptor=shortcuts[command];shortcuts[command]=null,descriptor&&(descriptor.keyboardInvolved&&unregisterKeyboard(),descriptor.mouseClickInvolved&&unregisterMouseClick(),descriptor.mouseWheelInvolved&&unregisterMouseWheel())}(command)}),this},exists:function(shortcut){var normalized=String(shortcut).trim().toLowerCase(),namespace=namespaceHelper.getNamespace(normalized,"*"),command=normalizeCommand(
parseCommand(normalized)),shortcutExists=!1;return shortcuts[command]?shortcutExists="*"===namespace||!!getHandlers(command,namespace).length:command||(shortcutExists=!_.isEmpty(handlers[namespace])),shortcutExists},clear:function(){return shortcuts={},handlers={},mouseWheelCount=mouseClickCount=keyboardCount=0,unregisterKeyboard(),unregisterMouseClick(),unregisterMouseWheel(),this},getState:function(name){return!!states[name]},setState:function(name,state){return states[name]=!!state,this},enable:function(){return this.setState("disabled",!1),this},disable:function(){return this.setState("disabled",!0),this}}}}),define("ui/keyNavigation/navigator",["jquery"
,"lodash","core/eventifier","util/shortcut/registry"],function($,_,eventifier,shortcutRegistry){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier,shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry;var _navigationGroups={},_ns=".ui-key-navigator",_defaults={defaultPosition:0,keepState:!1,replace:!1,loop:!1,propagateTab:!0},keyNavigatorFactory=function(config){var id,navigables,keyNavigator,$group,_cursor={position:-1,navigable:null},
getCurrentCursor=function(){var isFocused=!1;return document.activeElement&&_.forEach(navigables,function(navigable,index){if(navigable.isVisible()&&navigable.isEnabled()&&(document.activeElement===navigable.getElement().get(0)||(!$(document.activeElement).hasClass("key-navigation-highlight")||$(document.activeElement).data("key-navigatior-id")!==id)&&$.contains(navigable.getElement().get(0),document.activeElement)))return _cursor.position=index,_cursor.navigable=navigable,!(isFocused=!0)}),isFocused?_cursor:null},getClosestPositionRight=function(fromPosition){var pos;for(pos=fromPosition;pos<navigables.length;pos++)if(
navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1},getClosestPositionLeft=function(fromPosition){var pos;for(pos=fromPosition;0<=pos;pos--)if(navigables[pos]&&navigables[pos].isVisible()&&navigables[pos].isEnabled())return pos;return-1};if(config=_.defaults(config||{},_defaults),id=config.id||_.uniqueId("navigator_"),navigables=config.elements||[],_navigationGroups[id]){if(!config.replace)throw new TypeError("the navigation group id is already in use : "+id);_navigationGroups[id].destroy()}if(_.each(navigables,function(navigable){navigable.init(),navigable.getElement().data("key-navigatior-id",id)}),config.group){
if(!($group=$(config.group)).length)throw new TypeError("group element does not exist");$group.addClass("key-navigation-group").attr("data-navigation-id",id)}return keyNavigator=eventifier({getId:function(){return id},getGroup:function(){return $group},isFocused:function(){return!!getCurrentCursor()},next:function(){var pos,cursor=getCurrentCursor();return cursor?(0<=(pos=getClosestPositionRight(cursor.position+1))?this.focusPosition(pos):config.loop?this.focusPosition(getClosestPositionRight(0)):this.trigger("upperbound"),this.trigger("next",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},previous:function(){var pos,
cursor=getCurrentCursor();return cursor?(0<=(pos=getClosestPositionLeft(cursor.position-1))?this.focusPosition(pos):config.loop?this.focusPosition(getClosestPositionLeft(navigables.length-1)):this.trigger("lowerbound"),this.trigger("previous",getCurrentCursor())):this.focusPosition(getClosestPositionRight(0)),this},activate:function(target){var cursor=getCurrentCursor();return cursor&&this.trigger("activate",cursor,target),this},goto:function(groupId){return _navigationGroups[groupId]?_navigationGroups[groupId].focus():this.trigger("error",new Error("goto an unknown navigation group")),this},focus:function(originNavigator){var pos
;return config.keepState&&_cursor&&0<=_cursor.position?pos=_cursor.position:_.isFunction(config.defaultPosition)?(pos=config.defaultPosition(navigables))<0&&(pos=0):pos=config.defaultPosition,this.focusPosition(getClosestPositionRight(pos),originNavigator),this},focusPosition:function(position,originNavigator){return navigables[position]&&(_cursor.navigable&&this.trigger("blur",this.getCursor(),originNavigator),_cursor.position=position,navigables[_cursor.position].focus(),_cursor.navigable=navigables[_cursor.position],this.trigger("focus",this.getCursor(),originNavigator)),this},first:function(){return this.focusPosition(getClosestPositionRight(0)),this},
last:function(){return this.focusPosition(getClosestPositionLeft(navigables.length-1)),this},destroy:function(){return _.each(navigables,function(navigable){navigable.getElement().off(_ns),navigable.destroy(),navigable.shortcuts&&navigable.shortcuts.clear()}),delete _navigationGroups[id],this},blur:function(){var cursor=this.getCursor();return cursor&&cursor.navigable&&cursor.navigable.getElement().blur(),this},getCursor:function(){return _.clone(_cursor)},getNavigables:function(){return _.clone(navigables)}}),_.each(navigables,function(navigable){if(!function(navElement){return navElement&&_.isFunction(navElement.init)&&_.isFunction(navElement.destroy
)&&_.isFunction(navElement.getElement)&&_.isFunction(navElement.isVisible)&&_.isFunction(navElement.isEnabled)&&_.isFunction(navElement.focus)}(navigable))throw new TypeError("not a valid navigable element");navigable.shortcuts=shortcutRegistry(navigable.getElement()).add("tab shift+tab",function(e,key){keyNavigator.trigger(key,e.target)},{propagate:!!config.propagateTab,prevent:!0}).add("enter",function(e){$(e.target).is(":text,textarea")||(e.preventDefault(),keyNavigator.activate(e.target))},{propagate:!1}).add("up down left right",function(e,key){var $target=$(e.target);$target.is(":text,textarea")||($target.is("img")||$target.hasClass(
"key-navigation-scrollable")||e.preventDefault(),keyNavigator.trigger(key,e.target))},{propagate:!1}),navigable.getElement().on("keyup"+_ns,function(e){32===(e.keyCode?e.keyCode:e.charCode)&&(e.target!==this&&$(e.target).is(":input")?e.stopPropagation():(e.preventDefault(),keyNavigator.activate(e.target)))}).on("blur"+_ns,function(){var cursor=keyNavigator.getCursor();cursor&&cursor.navigable&&keyNavigator.trigger("blur",cursor)})}),_navigationGroups[id]=keyNavigator};return keyNavigatorFactory.get=function(id){if(_navigationGroups[id])return _navigationGroups[id]},keyNavigatorFactory}),define("ui/keyNavigation/navigableDomElement",["jquery",
"core/eventifier"],function($,eventifier){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,eventifier=eventifier&&eventifier.hasOwnProperty("default")?eventifier.default:eventifier;var navigableDomElement=function($element){return $element=$($element),eventifier({init:function(){if(!$element.length)throw new TypeError("dom element does not exist");return $element.attr("tabindex",-1),$element.addClass("key-navigation-highlight"),this},destroy:function(){return $element.removeClass("key-navigation-highlight"),this},getElement:function(){return $element},isVisible:function(){return $element.is(":visible")},isEnabled:function(){return!$element.is(
":disabled")},focus:function(){return $element.focus(),this}})};return navigableDomElement.createFromDoms=function($elements){var list=[];return $elements.each(function(){list.push(navigableDomElement($(this)))}),list},navigableDomElement}),define("core/dataattrhandler",["jquery","lodash"],function($,_){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_;var defaults={container:!1,listenerEvent:"click",useTarget:!0,bubbled:!1},letDefaultOn=[":radio",":checkbox"],shouldPreventDefault=function($elt){return!$elt.is(letDefaultOn.join(","))},DataAttrHandler=function(attrName,options){var self=this
;this.options=_.defaults(options,defaults);var selector="[data-"+attrName+"]";if(!_.has(this.options,"namespace")||!_.isString(this.options.namespace))return $.error("The plugin data namespace option is required");this.options.container&&this.options.container.selector&&(selector=this.options.container.selector+" "+selector),this.options.inner&&(selector+=" "+this.options.inner),$(document).off(this.options.listenerEvent,selector).on(this.options.listenerEvent,selector,function(e){var $target,$outer,$elt=$(e.target);!0!==self.options.bubbled&&!$elt.is(selector)||(void 0===$elt.data(attrName)&&(self.options.inner||self.options.bubbled)&&($elt=($outer=$elt
).parents("[data-"+attrName+"]")),$target=!0===self.options.useTarget?DataAttrHandler.getTarget(attrName,$elt):self.options.inner?$outer:void 0,$elt.data(self.options.namespace)||("function"==typeof self.createPlugin&&self.createPlugin($elt,$target),$elt.is(":radio")&&$elt.attr("name")&&$(':radio[name="'+$elt.attr("name")+'"]').not($elt).on(self.options.listenerEvent,function(e){"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt)&&e.preventDefault()})),"function"==typeof self.callPluginMethod&&self.callPluginMethod($elt,$target),shouldPreventDefault($elt)&&e.preventDefault())})}
;return DataAttrHandler.prototype.init=function(cb){return this.createPlugin=cb,this},DataAttrHandler.prototype.trigger=function(cb){return this.callPluginMethod=cb,this},DataAttrHandler.getTarget=function(attrName,$elt){var relativeRegex=/^(\+|>|~|:parent|<)/,$target=[],targetSelector=$elt.attr("data-"+attrName)||$elt.attr("href")||$elt.attr("attrName");if(!_.isEmpty(targetSelector)){var matches=relativeRegex.exec(targetSelector);if(null!==matches){var selector=targetSelector.replace(relativeRegex,"");$target=":parent"===matches[0]||"<"===matches[0]?$elt.parents(selector):"~"===matches[0]?$elt.siblings(selector):"+"===matches[0]?$elt.next(selector):$(
selector,$elt)}else $target=$(targetSelector)}return $target},DataAttrHandler}),define("ui/modal",["jquery","core/pluginifier","core/dataattrhandler"],function($,Pluginifier,DataAttrHandler){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,Pluginifier=Pluginifier&&Pluginifier.hasOwnProperty("default")?Pluginifier.default:Pluginifier,DataAttrHandler=DataAttrHandler&&DataAttrHandler.hasOwnProperty("default")?DataAttrHandler.default:DataAttrHandler;var dataNs="ui.modal",defaults={modalCloseClass:"modal-close",modalOverlayClass:"modal-bg",startClosed:!1,disableClosing:!1,width:"responsive",minWidth:0,minHeight:0,vCenter:!0,$context:null,animate:400},
modal={init:function(options){return(options=$.extend(!0,{},defaults,options)).animate&&("number"!=typeof options.animate?options.animate=defaults.animate:options.animate=Math.max(100,options.animate)),$(this).each(function(){var $modal=$(this);if(options.modalOverlay="__modal-bg-"+($modal.attr("id")||(new Date).getTime()),$modal.data(dataNs,options),0===$("#"+options.modalOverlay).length){var $overlay=$("<div/>").attr({id:options.modalOverlay,class:options.modalOverlayClass});options.$context instanceof $&&options.$context.length?($overlay.css("position","absolute"),options.$context.append($overlay)):$modal.after($overlay)}0!==$("."+options.modalCloseClass,
$modal).length||options.disableClosing||$('<button id="modal-close-btn" class="'+options.modalCloseClass+'"><span class="icon-close"></span></button>').appendTo($modal),options.startClosed||modal._open($modal),$modal.trigger("create.modal")})},_destroy:function($element){return $element.each(function(){var $modal=$(this),options=$modal.data(dataNs);$modal.removeData(dataNs),$("#"+options.modalOverlay).remove(),$modal.hide(),$element.trigger("destroyed.modal")})},_bindEvents:function($element){var options=$element.data(dataNs);options&&("responsive"===options.width&&$(window).on("resize.modal",function(e){e.preventDefault(),modal._resize($element)}),
options.disableClosing||($("."+options.modalCloseClass,$element).on("click.modal",function(e){e.preventDefault(),closeModal($element,"close")}),$("#"+options.modalOverlay).on("click.modal",function(e){e.preventDefault(),closeModal($element,"overlay")}),options.disableEscape||$(document).on("keydown.modal",function(e){27===e.keyCode&&(e.preventDefault(),closeModal($element,"escape"))})))},_unBindEvents:function($element){var options=$element.data(dataNs);options&&"responsive"===options.width&&$(window).off("resize.modal"),$element.off("click.modal"),options&&!options.disableClosing&&($("."+options.modalCloseClass,$element).off("click.modal"),$(
"#"+options.modalOverlay).off("click.modal"),$(document).off("keydown.modal"))},_open:function($element){var topOffset,onOpen,$overlay,to,modalHeight=$element.outerHeight(),windowHeight=$(window).height(),options=$element.data(dataNs);void 0!==options&&(onOpen=function(){$element.addClass("opened"),modal._bindEvents($element),$element.trigger("opened.modal")},topOffset=options.top?options.top:options.vCenter||windowHeight<modalHeight?40:(windowHeight-modalHeight)/2,options.top||$element.parent().hasClass("no-scroll-offset")||$element.parents().map(function(){"BODY"!==this.tagName&&"HTML"!==this.tagName&&(topOffset+=parseInt($(this).scrollTop(),10))}),to={
opacity:"1",top:topOffset+"px"},modal._resize($element),$overlay=$("#"+options.modalOverlay),$element.show(),options.animate&&$element.is(":visible")?($element.css({top:"-"+modalHeight+"px",display:"block"}),$overlay.fadeIn(options.animate-100),$element.animate(to,options.animate,onOpen)):($overlay.show(),$element.css(to),onOpen()))},_close:function($element){closeModal($element,"api")},_resize:function($element){var options=$element.data(dataNs),windowWidth=parseInt($(window).width(),10),css={},modalWidth="responsive"===options.width?.7*windowWidth:parseInt(options.width,10);css.width=Math.max(modalWidth,options.minWidth),options.minHeight&&(
css.minHeight=parseInt(options.minHeight)+"px"),$element.css(css)}};function closeModal($element,reason){var options=$element.data(dataNs),$overlay=$("#"+options.modalOverlay),onClose=function(){$element.removeClass("opened"),$element.css("display","none"),$element.trigger("closed.modal",reason)};modal._unBindEvents($element),options.animate&&$element.is(":visible")?($overlay.fadeOut(options.animate-100),$element.animate({opacity:"0",top:"-1000px"},options.animate,onClose)):($overlay.hide(),$element.hide(),onClose())}return Pluginifier.register("modal",modal,{expose:["open","close","destroy"]}),function($container){new DataAttrHandler("modal",{
container:$container,listenerEvent:"click",namespace:dataNs}).init(function($elt,$target){$target.modal()})}}),define("ui/dialog",["jquery","lodash","i18n","handlebars","lib/dompurify/purify","ui/keyNavigation/navigator","ui/keyNavigation/navigableDomElement","util/shortcut/registry","ui/modal"],function($$1,_,__,Handlebars,DOMPurify,keyNavigator,navigableDomElement,shortcutRegistry,modal){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}
function Helpers0(hb){hb.registerHelper("__",function(key){return __(key)}),hb.registerHelper("dompurify",function(context){return DOMPurify.sanitize(context)}),hb.registerHelper("join",function(arr,keyValueGlue,fragmentGlue,wrapper){var fragments=[];return keyValueGlue="string"==typeof keyValueGlue?keyValueGlue:void 0,fragmentGlue="string"==typeof fragmentGlue?fragmentGlue:" ",wrapper="string"==typeof wrapper?wrapper:'"',_.forIn(arr,function(value,key){var fragment="";null!==value||void 0!==value?"boolean"==typeof value?value=value?"true":"false":"object"===_typeof(value)&&(value=_.values(value).join(" ")):value="",void 0!==keyValueGlue&&(
fragment+=key+keyValueGlue),fragment+=wrapper+value+wrapper,fragments.push(fragment)}),fragments.join(fragmentGlue)}),hb.registerHelper("for",function(startIndex,stopIndex,increment,options){var ret="";startIndex=parseInt(startIndex),stopIndex=parseInt(stopIndex),increment=parseInt(increment);for(var i=startIndex;i<stopIndex;i+=increment)ret+=options.fn(_.extend({},this,{i:i}));return ret}),hb.registerHelper("equal",function(var1,var2,options){return var1==var2?options.fn(this):options.inverse(this)}),hb.registerHelper("property",function(name,context){return context[name]||""}),hb.registerHelper("includes",function(haystack,needle,options){if(_.contains(
haystack,needle))return options.fn(this)})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1,_=_&&_.hasOwnProperty("default")?_.default:_,__=__&&__.hasOwnProperty("default")?__.default:__,Handlebars=Handlebars&&Handlebars.hasOwnProperty("default")?Handlebars.default:Handlebars,DOMPurify=DOMPurify&&DOMPurify.hasOwnProperty("default")?DOMPurify.default:DOMPurify,keyNavigator=keyNavigator&&keyNavigator.hasOwnProperty("default")?keyNavigator.default:keyNavigator,navigableDomElement=navigableDomElement&&navigableDomElement.hasOwnProperty("default")?navigableDomElement.default:navigableDomElement,
shortcutRegistry=shortcutRegistry&&shortcutRegistry.hasOwnProperty("default")?shortcutRegistry.default:shortcutRegistry,Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function",escapeExpression=this.escapeExpression;return buffer+='<div class="preview-modal-feedback modal ',stack1=(helper=helpers.class)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.class)===functionType?helper.call(depth0,{
hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'">\n    <div class="modal-body clearfix">\n        ',!(stack1=helpers.if.call(depth0,depth0&&depth0.heading,{hash:{},inverse:this.noop,fn:this.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <h4 class="strong">',stack1=(helper=helpers.heading)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.heading)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+"</h4>\n        "},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n\n        <p class="message">',!(stack1=(helper=helpers.message
)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.message)===functionType?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</p>\n\n        ",!(stack1=helpers.if.call(depth0,depth0&&depth0.content,{hash:{},inverse:this.noop,fn:this.program(3,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <div class="content">',!(stack1=(helper=helpers.content)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.content)===functionType?helper.call(depth0,{hash:{},data:data}):helper)&&0!==stack1||(buffer+=stack1),buffer+="</div>\n        "},data),data:data}))&&0!==stack1||(
buffer+=stack1),buffer+='\n\n        <div class="buttons rgt"></div>\n    </div>\n</div>\n'});Helpers0.__initialized||(Helpers0(Handlebars),Helpers0.__initialized=!0);var Template$1=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this;function program2(depth0,data){var stack1,helper,buffer="";return buffer+='<span class="icon-',stack1=(helper=helpers.icon)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.icon)===functionType?helper.call(
depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'"></span> '}return!(stack1=helpers.each.call(depth0,depth0&&depth0.buttons,{hash:{},inverse:self.noop,fn:self.program(1,function(depth0,data){var stack1,helper,buffer="";return buffer+='\n    <button class="btn-',stack1=(helper=helpers.type)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.type)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+" small ",stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,
buffer+=escapeExpression(stack1)+'" data-control="',stack1=(helper=helpers.id)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.id)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(stack1)+'" type="button">\n        ',!(stack1=helpers.if.call(depth0,depth0&&depth0.icon,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+='\n        <span class="label">',stack1=(helper=helpers.label)?helper.call(depth0,{hash:{},data:data}):typeof(helper=depth0&&depth0.label)===functionType?helper.call(depth0,{hash:{},data:data}):helper,buffer+=escapeExpression(
stack1)+"</span>\n    </button>\n"},data),data:data}))&&0!==stack1||(buffer+=stack1),buffer+="\n"});var _definedButtons={ok:{id:"ok",type:"info",label:__("Ok"),close:!0},cancel:{id:"cancel",type:"regular",label:__("Cancel"),close:!0},yes:{id:"yes",type:"info",label:__("Yes"),close:!0},no:{id:"no",type:"regular",label:__("No"),close:!0}},_defaults={message:"",content:"",width:500,animate:!1,autoRender:!1,autoDestroy:!1,renderTo:"body",buttons:"cancel,ok"},dialog={init:function(options){var self=this,events={},initOptions=_.omit(options||{},function(value,key){var omit=!1;return 2<key.length&&"on"===key.substr(0,2)&&(events[key.substr(2)]=value,omit=!0),omit})
;return _.defaults(this,initOptions,_defaults),this.$html=$$1(function(data,options){var html=Template(data,options);return html}(this)),this.$buttons=this.$html.find(".buttons"),this.rendered=!1,this.destroyed=!1,this.$buttons.on("click.modal","button",this._onButtonClick.bind(this)),this.setButtons(this.buttons),_.forEach(events,function(callback,eventName){eventName.indexOf(".")<0&&(eventName+=".modal"),self.on(eventName.toLowerCase(),callback)}),this.autoRender&&this.render(),this},destroy:function(){return this.destroyed||(this._destroy(),this.rendered=!1,this.destroyed=!0,this.trigger("destroy.modal"),this.$buttons.off(".modal"),this.$html.off(".modal"
).remove(),this.$html=null,this.$buttons=null),this},setButtons:function(buttons){var self=this;return this.destroyed||(buttons=buttons||_defaults.buttons,_.isArray(buttons)||_.isString(buttons)&&(buttons=buttons.split(",")),this.buttons={},_.forEach(buttons,function(btn){_.isString(btn)&&(btn=btn.trim(),btn=_definedButtons[btn]||{id:btn,type:"info",label:btn}),btn.type||(btn.type="regular"),self.buttons[btn.id]=btn}),this.$buttons.html(function(data,options){var html=Template$1(data,options);return html}(this))),this},render:function(to){return this.destroyed||($$1(to||this.renderTo).append(this.$html),this._install(),this.rendered=!0),this},show:function(
){return this.destroyed||(this.rendered?this._open():this.render()),this},hide:function(){return!this.destroyed&&this.rendered&&(this._close(),this.autoDestroy&&this.destroy()),this},on:function(eventName){var dom=this.$html;return dom&&dom.on.apply(dom,arguments),this},off:function(eventName){var dom=this.$html;return dom&&dom.off.apply(dom,arguments),this},trigger:function(eventName,extraParameters){var dom=this.$html;return dom&&(void 0===extraParameters&&(extraParameters=[]),_.isArray(extraParameters)||(extraParameters=[extraParameters]),(extraParameters=Array.prototype.slice.call(extraParameters)).push(this),dom.trigger(eventName,extraParameters)),this
},getDom:function(){return this.$html},_onButtonClick:function(event){var id=$$1(event.target).closest("button").data("control"),btn=this.buttons[id];btn&&this._execute(btn)},_execute:function(btn){btn.action&&btn.action.apply(this,[btn,this]),this.trigger(btn.id+"btn.modal",[btn]),btn.close&&this.hide()},focus:function(button){var focusPosition=-1;button&&(focusPosition=_.findIndex(this.navigator.getNavigables(),function(navigable){return navigable.getElement().is('[data-control="'+button+'"]')})),0<=focusPosition?this.navigator.focusPosition(focusPosition):this.navigator.focus()},_install:function(){var $buttons,closeButton,self=this;this.destroyed||(
this.$html.modal({width:this.width,animate:this.animate,disableClosing:this.disableClosing,disableEscape:this.disableEscape}).on("closed.modal",function(){self.autoDestroy&&self.destroy()}),$buttons=this.$buttons.find("button"),(closeButton=$$1(".modal").find("#modal-close-btn")[0])&&$buttons.push(closeButton),this.navigator=keyNavigator({elements:navigableDomElement.createFromDoms($buttons)}).on("right down",function(){this.next()}).on("left up",function(){this.previous()}).on("tab",function(){this.getCursor().position===$buttons.length-1?this.first():this.next()}).on("shift+tab",function(){0===this.getCursor().position?this.last():this.previous()}).on(
"activate",function(cursor){cursor.navigable.getElement().click()}),self.navigator.last(),this.globalShortcut=shortcutRegistry($$1("body")).add("tab shift+tab",function(){self.navigator.isFocused()||self.navigator.focus()}),self.trigger("create.dialog"))},_open:function(){this.$html.modal("open")},_close:function(){this.$html.modal("close")},_destroy:function(){this.$html.modal("destroy"),this.navigator&&this.navigator.destroy(),this.globalShortcut&&this.globalShortcut.clear()}};return function(options){var instance=_.clone(dialog,!0);return instance.init(options),instance}}),define("ui/dialog/alert",["lodash","ui/dialog"],function(_,dialog){"use strict"
;return _=_&&_.hasOwnProperty("default")?_.default:_,dialog=dialog&&dialog.hasOwnProperty("default")?dialog.default:dialog,function(message,action,onCreateDialog){var dlg=dialog({message:message,buttons:"ok",autoDestroy:!0,autoRender:!0}).on("create.dialog",function(){onCreateDialog&&onCreateDialog()});return _.isFunction(action)&&dlg.on("closed.modal",action),dlg}}),define("ui/filesender",["jquery","lodash","layout/logout-event"],function($,_,logoutEvent){"use strict";$=$&&$.hasOwnProperty("default")?$.default:$,_=_&&_.hasOwnProperty("default")?_.default:_,logoutEvent=logoutEvent&&logoutEvent.hasOwnProperty("default")?logoutEvent.default:logoutEvent
;var FileSender={_opts:{frame:"__postFrame_",loaded:function(data){}},_init:function(options){var xhr,fd,self=FileSender,opts=_.defaults(options,self._opts),xhr2="undefined"!=typeof XMLHttpRequest&&(new XMLHttpRequest).upload&&"undefined"!=typeof FormData,fileParamName=options.fileParamName||"content",fileNameParamName=options.fileNameParamName||"contentName";if(!(this.attr("action")||opts.url&&0!==opts.url.trim().length))throw new Error("An url is required in the options or at least an action ");if(0===this.find("input[type='file']").length)throw new Error("This plugin is used to post files, your form should include an input element of type file.");if(
!this||!this.is("form"))throw new Error("This plugin can only be called on a FORM element");xhr2&&(xhr=new XMLHttpRequest,fd=new FormData(this[0]),options.file&&options.file instanceof File&&(fd.append(fileParamName,options.file),fd.append(fileNameParamName,encodeURIComponent(options.file.name))),xhr.open("POST",opts.url,!0),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.onreadystatechange=function(){if(4===xhr.readyState)if(200===xhr.status){var result=$.parseJSON(xhr.responseText);result.error?"function"==typeof opts.failed&&opts.failed(result.error):"function"==typeof opts.loaded&&opts.loaded(result)}else 403===xhr.status&&logoutEvent(),
"function"==typeof opts.failed&&opts.failed()},xhr.send(fd))}};$.fn.sendfile=function(options){return FileSender._init.call(this,options)}}),define("taoSync/controller/synchronizer/index",["i18n","jquery","lodash","moment","core/dataProvider/request","util/url","ui/taskQueue/taskQueueModel","layout/loading-bar","taoSync/component/terminateExecutions/terminateExecutions","taoSync/component/readinessDashboard/readinessDashboard","core/promise","ui/filesender"],function(__,$,_,moment,request,urlHelper,taskQueueModelFactory,loadingBar,terminateExecutionsDialogFactory,readinessDashboardFactory,Promise){"use strict";var tq_api="TaskQueueWebApi",
tq_ext="taoTaskQueue",webservices={get:urlHelper.route("get",tq_api,tq_ext),archive:urlHelper.route("archive",tq_api,tq_ext),all:urlHelper.route("getAll",tq_api,tq_ext),download:urlHelper.route("download",tq_api,tq_ext),lastTask:urlHelper.route("lastTask","Synchronizer","taoSync"),activeSessions:urlHelper.route("activeSessions","Synchronizer","taoSync"),terminateExecutions:urlHelper.route("terminateExecutions","TerminateExecution","taoSync"),exportSyncData:urlHelper.route("createTask","Exporter","taoSync"),importSyncData:urlHelper.route("createTask","Importer","taoSync")},defaultSyncMessages={error:__("The synchronization process has failed."),progress:__(
"Synchronization in progress."),success:__("Success! The synchronization process has been finished.")};return{start:function(){var readinessDashboard,terminateExecutionsDialog,_msg,$container=$("#tao-sync-container"),$syncForm=$container.find("form.sync-form"),$syncFormFields=($container.find("form.sync-form"),$syncForm.find('input:not([type="file"]), select')),$launchButton=$syncForm.find('button[data-control="launch"]'),$spinner=$syncForm.find(".feedback-info .icon-loop"),timeFields={$enqueued:$syncForm.find(".enqueue-time"),$updated:$syncForm.find(".update-time"),$completed:$syncForm.find(".complete-time")},msg=((_msg={$all:$syncForm.find(".msg")}
).$all.each(function(){var $currentMsg=$(this);_msg["$"+$currentMsg.data("type")]=$currentMsg}),_msg),taskQueue=taskQueueModelFactory({url:{get:webservices.get,archive:webservices.archive,all:webservices.all,download:webservices.download},pollSingleIntervals:[{iteration:Number.MAX_SAFE_INTEGER,interval:2e3}],pollAllIntervals:[{iteration:1,interval:8e3},{iteration:0,interval:5e3}]}).on("pollSingleFinished",function(taskId,taskData){"completed"===taskData.status?"oat\\taoSync\\scripts\\tool\\Export\\ExportSynchronizationPackage"===taskData.taskName?(setState("success",__(
"Synchronization data is ready to be downloaded. Downloading process will start in the background.")),taskQueue.download(taskId)):"oat\\taoSync\\scripts\\tool\\Import\\ImportSynchronizationPackage"===taskData.taskName?setState("success",__("Synchronization data has been imported."),!0):(setState("success"),updateTime(taskData),setHistoryTime(taskData.updatedAt,"$completed")):"failed"===taskData.status&&setState("error")}).on("pollSingle",function(taskId,taskData){updateTime(taskData)}).on("error",function(error){error.response&&400<=error.response.errorCode&&error.response.errorCode<500?setState("error",error.response.errorMsg):setState("error")})
;function getData(){var data={label:"Data Synchronization"};return $syncFormFields.each(function(){data[this.name]=this.value}),data}function toggleLaunchButtonState(){var isValid=!0;$syncFormFields.each(function(){return isValid=this.validity.valid}),isValid?$launchButton.removeAttr("disabled"):$launchButton.attr("disabled","disabled")}function setState(state,message,hideDashboard){var statusClassName=".status-"+state;$container.find(statusClassName+" .messages p span:first-child").text(message||defaultSyncMessages[state]),$container.removeClass(function(index,className){return(className.match(/(^|\s)state-\S+/g)||[]).join(" ")}),
$spinner["progress"===state?"addClass":"removeClass"]("spinner-icon"),$container.addClass("state-"+state),msg.$all.hide(),"success"!==state&&"error"!==state||hideDashboard?"progress"===state&&(readinessDashboard&&readinessDashboard.destroy(),readinessDashboard=null):function(){var $dashboardContainer=$container.find("#dashboard-container");readinessDashboard=readinessDashboardFactory($dashboardContainer).render()}()}function updateTime(taskData){setTime(taskData.createdAt,"$enqueued"),setTime(taskData.createdAt+taskData.createdAtElapsed,"$updated")}function setTime(timestamp,type){timeFields[type]&&timeFields[type].text(moment.unix(timestamp).format("LTS")),
msg[type]&&msg[type].show()}function setHistoryTime(timestamp,type){setTime(timestamp,type),$container.addClass("history")}function checkActiveSessions(){return request(webservices.activeSessions).then(function(data){return terminateExecutionsDialog&&(terminateExecutionsDialog.destroy(),terminateExecutionsDialog=null),!(Array.isArray(data.activeSessionsData)&&0<data.activeSessionsData.length)||function(data){var $terminateActionContainer=$container.find(".terminate-action"),$syncActionContainer=$container.find(".sync-action"),dialogConfig={data:data.activeSessionsData,csrfToken:data.token,terminateUrl:webservices.terminateExecutions};return new Promise(
function(resolve,reject){terminateExecutionsDialog=terminateExecutionsDialogFactory($terminateActionContainer,dialogConfig).on("dialogRendered",function(){$syncActionContainer.toggle(),$terminateActionContainer.toggle()}).on("terminationCanceled",function(){$terminateActionContainer.toggle(),$syncActionContainer.toggle(),resolve(!1)}).on("terminationFailed",function(){reject()}).on("terminationSucceeded",function(){$terminateActionContainer.toggle(),$syncActionContainer.toggle(),resolve(!0)}).render($terminateActionContainer)})}(data)})}$container.find(".fb-container").removeClass("viewport-hidden"),loadingBar.start(),$syncFormFields.on("keyup paste blur",
toggleLaunchButtonState),toggleLaunchButtonState(),$syncForm.on("submit",function(e){var action=this.action;e.preventDefault(),setState("progress"),$container.removeClass("active"),checkActiveSessions().then(function(canStartSynchronization){canStartSynchronization?taskQueue.create(action,getData()):setState("form")}).catch(function(){setState("error")})}),$syncForm.find('button[data-control="close"]').on("click",function(e){e.preventDefault(),setState("form")}),$syncForm.find('a[data-control="export"]').on("click",function(e){setState("progress",__("Preparation of synchronization data is in progress.")),checkActiveSessions().then(function(
canStartSynchronization){canStartSynchronization?taskQueue.create(urlHelper.build(webservices.exportSyncData,getData())):setState("form")}).catch(function(){setState("error")})}),$syncForm.find('input[data-control="import"]').on("change",function(e){e.target.files[0]&&(setState("progress",__("Import of synchronization data is in progress.")),$syncForm.sendfile({url:webservices.importSyncData,loaded:function(response){taskQueue.pollSingle(response.data.task.id)},failed:function(){setState("error")}}))}),request(webservices.lastTask).then(function(currentTask){if(currentTask&&currentTask.status)switch(currentTask.status){case"failed":setState("error");break
;case"completed":setState("form"),updateTime(currentTask),setHistoryTime(currentTask.updatedAt,"$completed");break;default:setState("progress"),updateTime(currentTask),taskQueue.pollSingle(currentTask.id)}else setState("form");loadingBar.stop()}).catch(function(){setState("error")})}}}),function(c){var d=document,a="appendChild",i="styleSheet",s=d.createElement("style");s.type="text/css",d.getElementsByTagName("head")[0][a](s),s[i]?s[i].cssText=c:s[a](d.createTextNode(c))}(
'/*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n/* Style of advanced components */\n/* toggler */\n.toggler:after {\n    margin-left: 3px;\n    position: relative;\n    top: 2px;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e611";\n}\n\n.toggler.opened:after {\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e610";\n}\n\n.toggled {\n    display: none;\n}\n\n/* Adder */\n.adder:before {\n    margin-right: 5px;\n    font-size: 10.5px;\n    font-size: 1.05rem;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e636";\n}\n\n/* Closer / Deleter */\n.closer:before, .deleter:before {\n    margin-right: 5px;\n    font-size: 10.5px;\n    font-size: 1.05rem;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e637";\n}\n\n.undobox {\n    display: block;\n    position: fixed;\n    top: 50px;\n    left: 50%;\n    margin-left: -200px;\n    width: 400px;\n    z-index: 100005;\n}\n\n/* Incrementer and duration */\ninput[data-increment], input.duration-ctrl {\n    width: 40px !important;\n    min-width: 40px !important;\n    text-align: right;\n}\n\n.duration-ctrl-wrapper, .incrementer-ctrl-wrapper {\n    position: relative;\n    display: inline-block;\n    border: 1px solid #ddd;\n    border-radius: 2px;\n    border-radius: 2px;\n}\n\n.duration-ctrl-wrapper .incrementer, .incrementer-ctrl-wrapper .incrementer {\n    text-align: right;\n    border: none;\n    padding-right: 18px;\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl {\n    border-left: 1px #ddd solid;\n    display: inline-block;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a {\n    outline: 0 !important;\n    cursor: pointer;\n    display: inline-block;\n    line-height: 13px;\n    color: #222;\n    background: #f3f1ef;\n    padding: 0 4px 0 4px;\n    font-size: 10.5px;\n    font-size: 1.05rem;\n    position: absolute;\n    right: 0;\n    height: 50%;\n    text-align: center;\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc {\n    top: 0;\n    border-top-right-radius: 2px;\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec {\n    top: 50%;\n    border-bottom-right-radius: 2px;\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc:before, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.inc:before {\n    position: relative;\n    bottom: 0px;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e610";\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec:before, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a.dec:before {\n    position: relative;\n    top: 0px;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e611";\n}\n\n.duration-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a:hover, .incrementer-ctrl-wrapper .incrementer ~ .incrementer-ctrl > a:hover {\n    background-color: #3e7da7;\n    color: white;\n}\n\n.duration-ctrl-wrapper ~ .separator {\n    padding: 0 3px;\n    text-align: center;\n    opacity: .7;\n}\n\n/* InPlacer */\n[data-in-place], .inplace {\n    cursor: pointer;\n    min-height: 1em;\n}\n\n[data-in-place] input, .inplace input {\n    cursor: auto;\n}\n\n[data-in-place]:hover, .inplace:hover {\n    border: dotted 1px #3e7da7;\n}\n\n/* ListBox  */\nul.listbox {\n    margin: .1em 0;\n    padding: 0;\n    list-style-type: none;\n    display: block;\n}\n\nul.listbox > li {\n    white-space: no-wrap;\n    position: relative;\n    min-width: 75%;\n    border: solid 1px #ddd;\n    border-bottom-width: 0;\n    vertical-align: top;\n    margin: 0;\n    padding: .3em 2em .3em .2em;\n    background-color: #f3f1ef;\n    min-height: 1.5em;\n}\n\nul.listbox > li > .closer, ul.listbox > li > .deleter {\n    position: absolute;\n    right: 5px;\n    top: 0;\n}\n\nul.listbox > li:first-child {\n    border-radius: 2px 2px 0 0;\n}\n\nul.listbox > li:last-child {\n    border-radius: 0 0 2px 2px;\n    border-bottom-width: 1px;\n}\n\nul.listbox > li.placeholder {\n    background: none;\n    margin: .5em;\n    opacity: 0.6;\n}\n\n/* Modal styles */\n.modal {\n    background-color: white;\n    border: 1px solid #ddd;\n    box-shadow: 3px 3px 5px #666666;\n    height: auto;\n    opacity: 0;\n    top: -1000px;\n    padding: 40px;\n    position: fixed;\n    z-index: 105002;\n    margin: auto;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n}\n\n.modal .modal-close {\n    position: absolute;\n    right: 12px;\n    top: 10px;\n    cursor: pointer;\n    font-weight: bold;\n    color: #222;\n}\n\n.modal .modal-close:hover {\n    opacity: 0.6;\n}\n\n.modal .modal-close .icon-close {\n    font-size: 20px;\n    font-size: 2rem;\n}\n\n.modal button.modal-close {\n    color: #222 !important;\n    background-color: transparent;\n    padding: 0;\n    height: 20px;\n}\n\n.modal button.modal-close .icon-close {\n    padding: 0;\n}\n\n.modal .modal-body h4 {\n    font-size: 16px;\n    font-size: 1.6rem;\n    margin-top: 0;\n    margin-bottom: 8px;\n}\n\n.modal .modal-body .content, .modal .modal-body .message {\n    margin-bottom: 8px;\n}\n\n.modal .modal-body .buttons {\n    top: 16px;\n    position: relative;\n}\n\n.modal .modal-body .buttons button {\n    border-radius: 2px;\n    margin-left: 8px;\n    height: 36px;\n    text-shadow: none;\n    text-transform: uppercase;\n    color: #0e5d91 !important;\n    background: none;\n}\n\n.modal .modal-body .buttons button:focus, .modal .modal-body .buttons button:hover {\n    background: #dbe7ef;\n}\n\n.modal[class^="icon-"]:before, .modal[class*=" icon-"]:before {\n    font-size: 44px;\n    font-size: 4.4rem;\n    color: #0e5d91;\n    position: absolute;\n}\n\n.modal[class^="icon-"].icon-result-nok:before, .modal[class*=" icon-"].icon-result-nok:before {\n    color: #ba122b;\n}\n\n.modal[class^="icon-"].icon-warning:before, .modal[class*=" icon-"].icon-warning:before {\n    color: #c96043;\n}\n\n.modal[class^="icon-"].icon-result-ok:before, .modal[class*=" icon-"].icon-result-ok:before {\n    color: #0e914b;\n}\n\n.modal[class^="icon-"].error:before, .modal[class*=" icon-"].error:before {\n    color: #ba122b;\n}\n\n.modal[class^="icon-"].danger:before, .modal[class*=" icon-"].danger:before {\n    color: #c96043;\n}\n\n.modal[class^="icon-"].warning:before, .modal[class*=" icon-"].warning:before {\n    color: #d8ae5b;\n}\n\n.modal[class^="icon-"].info:before, .modal[class*=" icon-"].info:before {\n    color: #0e5d91;\n}\n\n.modal[class^="icon-"].success:before, .modal[class*=" icon-"].success:before {\n    color: #0e914b;\n}\n\n.modal[class^="icon-"] .modal-body, .modal[class*=" icon-"] .modal-body {\n    font-family: "Source Sans Pro", sans-serif !important;\n    line-height: 1.4;\n    margin-left: 8.5rem;\n}\n\n.modal-bg {\n    background: none repeat scroll 0 0 black;\n    opacity: 0.45;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=45)";\n    filter: alpha(opacity=45);\n    display: none;\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    left: 0;\n    top: 0;\n    z-index: 100001;\n    overflow: hidden;\n}\n\n/* Button groups */\nul[data-button-group], ul.button-group {\n    list-style-type: none;\n    padding: 0;\n    background-color: white;\n    border: 1px solid #ddd;\n    border-radius: 1px;\n    margin: 0 2px 2px 0;\n    display: inline-block;\n    border-radius: 2px;\n    font-size: 12px;\n    font-size: 1.2rem;\n}\n\nul[data-button-group] > li, ul.button-group > li {\n    border: 0 none;\n    color: #222;\n    cursor: pointer;\n    display: inline-block;\n    float: left;\n    min-width: 26px;\n    padding: 4px 6px;\n    text-align: center;\n    text-decoration: none !important;\n}\n\nul[data-button-group] > li.active, ul.button-group > li.active {\n    color: white;\n    background-color: #0e5d91;\n    transition: all 0.4s ease;\n}\n\nul[data-button-group] > li:hover, ul.button-group > li:hover {\n    color: white;\n    background-color: #3e7da7;\n    transition: all 0.4s ease;\n}\n\nul[data-button-group] > li.separator, ul.button-group > li.separator {\n    background-color: #ddd;\n    float: left;\n    height: 18px;\n    margin: 5px 2px 0 2px;\n    width: 1px;\n    min-width: 1px;\n    padding: 0;\n}\n\nul[data-button-group] > li[class^="icon-"], ul[data-button-group] > li[class*=" icon-"], ul.button-group > li[class^="icon-"], ul.button-group > li[class*=" icon-"] {\n    height: 16px;\n    margin-top: 1px;\n    width: 16px;\n    padding-top: 2px;\n}\n\n/* Media Preview */\n.previewer {\n    background-color: white;\n    margin: 5px;\n    min-width: 280px;\n    min-height: 200px;\n    text-align: center;\n}\n\n.previewer .nopreview {\n    color: #ddd;\n    text-align: center;\n    font-size: 20px;\n    font-size: 2rem;\n}\n\n.previewer .nopreview:before {\n    font-size: 60px;\n    font-size: 6rem;\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    content: "\\e670";\n    display: block !important;\n}\n\n/* Progress bar */\n.progressbar {\n    height: 2em;\n    text-align: left;\n    border: none;\n    height: 0.8em;\n    background-color: white;\n    border: 1px solid #ddd;\n}\n\n.progressbar > span {\n    height: 100%;\n    border: none;\n    background-color: #3e7da7;\n    display: block;\n    color: white;\n    transition: width 0.4s ease 0s;\n}\n\n.progressbar.info > span {\n    background-color: #0e5d91;\n}\n\n.progressbar.success > span {\n    background-color: #0e914b;\n}\n\n.progressbar.warning > span {\n    background-color: #d8ae5b;\n}\n\n.progressbar.error > span {\n    background-color: #ba122b;\n}\n\n/*# sourceMappingURL=components.css.map *//*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.pagination .pages {\n    display: box;\n    display: -webkit-flexbox;\n    display: flexbox;\n    display: -ms-flex;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    flex-pack: start;\n    justify-content: flex-start;\n    flex-line-pack: start;\n    align-content: flex-start;\n    flex-align: stretch;\n    align-items: stretch;\n    justify-content: center;\n    padding-left: 0;\n    margin: 15px 0;\n    font-weight: bold;\n}\n\n.pagination .pages > li {\n    display: inline;\n}\n\n.pagination .pages > li > a,\n.pagination .pages > li > span {\n    cursor: pointer;\n    position: relative;\n    float: left;\n    padding: 5px 15px;\n    line-height: 1.4;\n    text-decoration: none;\n    margin-left: -1px;\n    color: #222;\n}\n\n.pagination .pages > li:first-child > a,\n.pagination .pages > li:first-child > span {\n    margin-left: 0;\n}\n\n.pagination .pages > li > a:hover, .pagination .pages > li > a:focus {\n    color: #222;\n}\n\n.pagination .pages > .active > a, .pagination .pages > .active > a:hover, .pagination .pages > .active > a:focus,\n.pagination .pages > .active > span,\n.pagination .pages > .active > span:hover,\n.pagination .pages > .active > span:focus {\n    z-index: 2;\n    color: #ada194;\n    cursor: default;\n}\n\n.pagination .pages > .disabled > span,\n.pagination .pages > .disabled > span:hover,\n.pagination .pages > .disabled > span:focus,\n.pagination .pages > .disabled > a,\n.pagination .pages > .disabled > a:hover,\n.pagination .pages > .disabled > a:focus {\n    color: #ada194;\n    cursor: not-allowed;\n    background-color: white;\n}\n\n.pagination-lg .pages > li {\n    display: inline;\n}\n\n.pagination-lg .pages > li > a,\n.pagination-lg .pages > li > span {\n    padding: 10px 25px;\n    font-size: 20px;\n    font-size: 2rem;\n}\n\n.pagination-lg .pages > li:first-child > a,\n.pagination-lg .pages > li:first-child > span {\n    margin-left: 0;\n}\n\n.pagination-sm .pages > li {\n    display: inline;\n}\n\n.pagination-sm .pages > li > a,\n.pagination-sm .pages > li > span {\n    padding: 5px 18px;\n    font-size: 12px;\n    font-size: 1.2rem;\n}\n\n.pagination-sm .pages > li:first-child > a,\n.pagination-sm .pages > li:first-child > span {\n    margin-left: 0;\n}\n\n/*# sourceMappingURL=pagination.css.map *//*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.datatable-wrapper .datatable-header {\n    display: -ms-flex;\n    display: flex;\n    -ms-align-items: center;\n    align-items: center;\n    -ms-justify-content: space-between;\n    justify-content: space-between;\n}\n\n.datatable-wrapper h2 {\n    font-family: "Source Sans Pro", sans-serif;\n    font-size: 18px;\n    font-size: 1.8rem;\n    margin: 30px 0 10px;\n}\n\n.datatable-wrapper .action-bar {\n    margin: 10px 0;\n}\n\n.datatable-wrapper .action-bar .btn-info {\n    overflow: hidden;\n    background: transparent;\n    border: 1px rgba(255, 255, 255, 0.3) solid;\n}\n\n.datatable-wrapper .filter {\n    display: inline-block;\n    position: relative;\n    text-align: right;\n    width: 100%;\n    margin-bottom: 10px;\n}\n\n.datatable-wrapper .filter input {\n    padding-right: 30px;\n    min-width: 250px;\n}\n\n.datatable-wrapper .filter button {\n    position: absolute;\n    right: 1px;\n    top: -1px;\n    cursor: default;\n    opacity: .5;\n    background: transparent;\n    width: 25px;\n    height: 25px;\n}\n\n.datatable-wrapper .filter button:before {\n    color: #666;\n}\n\n.datatable-wrapper .filter.column {\n    float: none;\n    width: auto;\n    text-align: left;\n    margin-bottom: 0;\n}\n\n.datatable-wrapper .filter.column input {\n    min-width: inherit;\n}\n\n.datatable-wrapper .datatable-pagination-bottom,\n.datatable-wrapper .datatable-pagination-top {\n    overflow-x: hidden;\n}\n\n.datatable-container {\n    overflow-y: auto;\n}\n\n.datatable-container .empty {\n    text-align: center;\n    margin: 2rem 0;\n}\n\ntable.datatable.matrix th {\n    vertical-align: top;\n    padding: 2px 2px;\n}\n\ntable.datatable.matrix tr.selected {\n    background: #a4bbc5;\n}\n\ntable.datatable.hoverable tr:hover {\n    background: #e4ecef;\n    cursor: pointer;\n}\n\ntable.datatable th {\n    cursor: not-allowed;\n}\n\ntable.datatable th .sortable, table.datatable th .sorted {\n    cursor: pointer;\n    position: relative;\n    padding-right: 20px;\n}\n\ntable.datatable th .sortable:after, table.datatable th .sorted:after {\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: \'tao\' !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    position: absolute;\n    right: 5px;\n    color: #a4a9b1;\n}\n\ntable.datatable th .sortable:hover:after, table.datatable th .sortable:active:after, table.datatable th .sortable:focus:after, table.datatable th .sorted:hover:after, table.datatable th .sorted:active:after, table.datatable th .sorted:focus:after {\n    color: #3e7da7;\n}\n\ntable.datatable th .sortable:after {\n    content: "\\e630";\n    top: 3px;\n}\n\ntable.datatable th .sorted.sorted_asc:after {\n    content: "\\e611";\n}\n\ntable.datatable th .sorted.sorted_desc:after {\n    content: "\\e610";\n}\n\ntable.datatable tr.selected {\n    background: #a4bbc5;\n}\n\ntable.datatable tr.highlight {\n    background-color: #f7efde !important;\n}\n\ntable.datatable th.checkboxes,\ntable.datatable td.checkboxes {\n    width: 20px;\n    text-align: center;\n}\n\ntable.datatable th.actions,\ntable.datatable td.actions {\n    text-align: center;\n}\n\ntable.datatable th button,\ntable.datatable td button {\n    text-transform: capitalize;\n}\n\ntable.datatable th [class^="icon-"],\ntable.datatable th [class*=" icon-"],\ntable.datatable td [class^="icon-"],\ntable.datatable td [class*=" icon-"] {\n    width: 14px;\n    display: inline-block;\n    text-align: center;\n}\n\n/*# sourceMappingURL=datatable.css.map *//*\nUsage:\n- linear-gradient((color1, color2, color3)) - returns linear-gradient with evenly distributed colors,\n   if 3 colors used then the position of each will be 33,33%\n- linear-gradient((color1 0%, color2 30%, color3 80%)) - returns linear-gradient with manually distributed colors,\n   first param - color, second - position. Also you can use px or other valid units for set position.\n*/\n/* Do not edit */\n.readiness-dashboard-container .dashboard-header {\n    margin-bottom: 25px;\n}\n\n.readiness-dashboard-container .dashboard-warning {\n    font-weight: bold;\n    text-align: center;\n}\n\n.readiness-dashboard-container .dashboard-metrics_list {\n    display: box;\n    display: -webkit-flexbox;\n    display: flexbox;\n    display: -ms-flex;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    flex-pack: start;\n    justify-content: flex-start;\n    flex-line-pack: start;\n    align-content: flex-start;\n    flex-align: stretch;\n    align-items: stretch;\n    justify-content: space-between;\n    list-style: none;\n    padding-left: 0;\n}\n\n.readiness-dashboard-container .dashboard-metrics_list.list .dashboard-metric {\n    height: auto;\n    width: 100%;\n}\n\n.readiness-dashboard-container .dashboard-metric {\n    background-color: white;\n    border: 1px solid #8d949e;\n    height: 190px;\n    margin-bottom: 15px;\n    padding: 0 15px;\n    width: 205px;\n}\n\n.readiness-dashboard-container .dashboard-metric_title {\n    margin-bottom: 5px;\n}\n\n.readiness-dashboard-container .dashboard-metric_score-container {\n    background-color: #e6e6e6;\n    border: 1px solid #8d949e;\n    height: 10px;\n    margin-bottom: 15px;\n    width: 100%;\n}\n\n.readiness-dashboard-container .dashboard-metric_score {\n    height: 100%;\n    border-right: 2px solid #8d949e;\n}\n\n.readiness-dashboard-container .dashboard-metric_score.score-error {\n    background-color: #ba122b;\n}\n\n.readiness-dashboard-container .dashboard-metric_score.score-warn {\n    background-color: #d8ae5b;\n}\n\n.readiness-dashboard-container .dashboard-metric_score.score-success {\n    background-color: #0e914b;\n    border-right: none;\n}\n\n.readiness-dashboard-container .dashboard-metric_info {\n    list-style: none;\n    padding-left: 0;\n}\n\n.readiness-dashboard-container .dashboard-metric_info-item {\n    padding-left: 15px;\n    position: relative;\n}\n\n.readiness-dashboard-container .dashboard-metric_info-item:before {\n    content: "-";\n    left: 0;\n    position: absolute;\n}\n\n@media (max-width: 900px) {\n    .readiness-dashboard-container .dashboard-metrics_list {\n        justify-content: space-around;\n    }\n}\n\n/*# sourceMappingURL=dashboard.css.map */'
),define("taoSync/loader/taoSync.bundle",function(){});
//# sourceMappingURL=taoSync.min.js.map